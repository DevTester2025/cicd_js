!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=21)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LINE_HEIGHT=16,e.FONT_SIZE=14,e.FONT_NAME="Open Sans, sans-serif",e.GRID_COLOR="#F5F5F5",e.GRID_MAIN_LINE_COLOR="#EEEEEE",e.GRID_STEP=10,e.GRID_WIDTH=1,e.GRID_MAIN_LINE_STEP=8,e.GRID_MAIN_LINE_WIDTH=2,e.POINT_BORDER_COLOR="rgba(83,83,83,0.7)",e.POINT_BACKGROUND_COLOR="#FFFFFF",e.POINT_BORDER_WIDTH=1,e.POINT_RADIUS=4.5,e.POINT_DOT_RADIUS=1,e.LINE_COLOR="rgba(83,83,83,0.7)",e.LINE_WIDTH=2,e.SHAPE_BORDER_WIDTH=3,e.SHAPE_SELECTION_COLOR="#373859",e.SHAPE_SELECTION_MARGIN=10,e.SHAPE_SELECTION_BORDER_WIDTH=1,e.SHAPE_PREVIEW_COLOR="#898989",e.SHAPE_PREVIEW_BACKGROUND_COLOR="#FFFFFF",e.SHAPE_LABEL_COLOR="#3A3A3A",e.SHAPE_LABEL_WIDTH=120,e.SHAPE_LABEL_HEIGHT=60,e.SHAPE_LABEL_PADDING=5,e.INDICATOR_DEFAULT_COLOR="#FFFFFF",e.INDICATOR_DEFAULT_BACKGROUND_COLOR="#AAAAAA",e.INDICATOR_SUCCESS_BACKGROUND_COLOR="#3C763D",e.INDICATOR_INFO_BACKGROUND_COLOR="#31708F",e.INDICATOR_WARN_BACKGROUND_COLOR="#8A6D3B",e.INDICATOR_ERROR_BACKGROUND_COLOR="#A94442",e.TEXT_NODE_BORDER_COLOR_ACTIVE="rgba(77, 144, 254, 0.5)",e.ACTIVITY_BORDER_COLOR="#8EC9CB",e.ACTIVITY_BORDER_COLOR_HOVER="#56A4A7",e.ACTIVITY_BORDER_COLOR_ACTIVE="#448588",e.ACTIVITY_BACKGROUND_COLOR="#B9E5E6",e.COPYSCRIPT_BORDER_COLOR="#8EC9CB",e.COPYSCRIPT_BORDER_COLOR_HOVER="#56A4A7",e.COPYSCRIPT_BORDER_COLOR_ACTIVE="#448588",e.COPYSCRIPT_BACKGROUND_COLOR="#C3E22A",e.DECISION_BORDER_COLOR="#ECDEF1",e.DECISION_BORDER_COLOR_HOVER="#DABEF1",e.DECISION_BORDER_COLOR_ACTIVE="#D0BEFE",e.DECISION_BACKGROUND_COLOR="#FAE8BE",e.MACHINE_BORDER_COLOR="#b4b588",e.MACHINE_BORDER_COLOR_HOVER="#f5f79d",e.MACHINE_BORDER_COLOR_ACTIVE="#f5f79d",e.MACHINE_BACKGROUND_COLOR="#f8f9b6",e.PATCH_BORDER_COLOR="#f2c47e",e.PATCH_BORDER_COLOR_HOVER="#FF9900",e.PATCH_BORDER_COLOR_ACTIVE="#FF9900",e.PATCH_BACKGROUND_COLOR="#fae6c8",e.END_NODE_BORDER_COLOR="#EF8C7F",e.END_NODE_BORDER_COLOR_HOVER="#D06254",e.END_NODE_BORDER_COLOR_ACTIVE="#B65D51",e.END_NODE_BACKGROUND_COLOR="#FFFFFF",e.START_NODE_BORDER_COLOR="#90BD61",e.START_NODE_BORDER_COLOR_HOVER="#77A844",e.START_NODE_BORDER_COLOR_ACTIVE="#658D3B",e.START_NODE_BACKGROUND_COLOR="#B9DE91",e.RESTART_BORDER_COLOR="#09f91b",e.RESTART_BORDER_COLOR_HOVER="#058c0f",e.RESTART_BORDER_COLOR_ACTIVE="#058c0f",e.RESTART_BACKGROUND_COLOR="#f90606",e.SETTINGS_BORDER_COLOR="#56a1ca",e.SETTINGS_BORDER_COLOR_HOVER="#56a1ca",e.SETTINGS_BORDER_COLOR_ACTIVE="#56a1ca",e.SETTINGS_BACKGROUND_COLOR="#9ed8f7",e.SESSION_BORDER_COLOR="#f9b5ee",e.SESSION_BORDER_COLOR_HOVER="#f9b5ee",e.SESSION_BORDER_COLOR_ACTIVE="#f9b5ee",e.SESSION_BACKGROUND_COLOR="#fde3f9",e.MESSAGE_BORDER_COLOR="#9b95bb",e.MESSAGE_BORDER_COLOR_HOVER="#9b95bb",e.MESSAGE_BORDER_COLOR_ACTIVE="#9b95bb",e.MESSAGE_BACKGROUND_COLOR="#e3e0f5"},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(3)),n=i(s(11)),o=i(s(31)),a=i(s(34)),l=i(s(36)),c=i(s(39)),d=i(s(41)),h=i(s(42)),u=i(s(44)),p=i(s(46)),f=i(s(47)),_=i(s(50)),m=i(s(53)),E=i(s(56)),g=i(s(59)),b=i(s(62)),y=i(s(65)),v=i(s(68));var x;!function(t){t.ActivityNode="ActivityNode",t.CopyNode="CopyNode",t.DecisionNode="DecisionNode",t.EndNode="EndNode",t.HorizontalForkJoinNode="HorizontalForkJoinNode",t.StartNode="StartNode",t.TextNode="TextNode",t.VerticalForkJoinNode="VerticalForkJoinNode",t.MachineNode="MachineNode",t.SessionNode="SessionNode",t.MessageNode="MessageNode",t.PatchNode="PatchNode",t.RestartNode="RestartNode",t.WaitNode="WaitNode",t.SettingsNode="SettingsNode"}(x=e.UmlNodes||(e.UmlNodes={})),e.nodecustomProperties={EndNode:[{name:"message",label:"message",inputType:"textarea",datatype:"string"},{name:"logentry",label:"Log entry",inputType:"textarea",datatype:"string"}],MachineNode:[{name:"OperatingSystem",label:"Operating System",inputType:"list",listItem:[{label:"Windows",value:"windows"},{label:"Linux",value:"linux"}]},{name:"logentry",label:"Log entry",inputType:"textarea",datatype:"string"}],CopyNode:[{name:"scriptexectype",label:"Script Execution Type",inputType:"list",listItem:[{label:"Boot time scripts",value:"boottime"},{label:"Post Boot Script",value:"postboot"}]},{name:"scripttype",label:"Script Type",inputType:"list",listItem:[{label:".PS1",value:"PS1"},{label:".sh",value:"SH"}]},{name:"filename",label:"Script File",inputType:"list",listItem:[],dynamics:{enabled:!0,type:"scripts"}},{name:"retries",label:"Retries",inputType:"input",datatype:"number"},{name:"waittime",label:"Wait Time (Seconds)",inputType:"input",datatype:"number"},{name:"logentry",label:"Log entry",inputType:"textarea",datatype:"string"}],ActivityNode:[{name:"scriptexectype",label:"Script Execution Type",inputType:"list",listItem:[{label:"Boot time scripts",value:"boottime"},{label:"Post Boot Script",value:"postboot"}]},{name:"scripttype",label:"Script Type",inputType:"list",listItem:[{label:".PS1",value:"PS1"},{label:".sh",value:"SH"}]},{name:"filename",label:"Script File",inputType:"list",listItem:[],dynamics:{enabled:!0,type:"scripts"}},{name:"retries",label:"Retries (For connectivity)",inputType:"input",datatype:"number"},{name:"waittime",label:"Wait Time (Seconds)",inputType:"input",datatype:"number"},{name:"failedretries",label:"Retires (If node failed or waiting for output)",inputType:"input",default_value:"2",datatype:"number"},{name:"failedwaittime",label:"Wait Time (Minutes)",inputType:"input",default_value:"30",datatype:"number"},{name:"logentry",label:"Log entry",inputType:"textarea",datatype:"string"}],SessionNode:[{name:"Type",label:"Session Type",inputType:"list",listItem:[{label:"Winexe",value:"PAExec"},{label:"SSH",value:"Node-SSH"}]},{name:"authentication_type",label:"Authentication Type",inputType:"list",listItem:[{label:"Manual",value:"manual"},{label:"AWS Params Store",value:"aws_param_store"}]},{name:"userid",label:"user Id",inputType:"input",datatype:"string"},{name:"password",label:"Password",inputType:"password",datatype:"string"},{name:"port",label:"Port",inputType:"input",datatype:"number"},{name:"ip_type",label:"IP Address Type",inputType:"list",listItem:[{label:"Private IP",value:"privateip"},{label:"Public IP",value:"publicip"},{label:"Manual",value:"manual"}]},{name:"ipaddress",label:"IP Address (If IP type Manual)",inputType:"input"},{name:"logentry",label:"Log entry",inputType:"textarea",datatype:"string"}],PatchNode:[{name:"scan",label:"Scan",inputType:"list",default_value:"Install",listItem:[{label:"Scan only",value:"Scan"},{label:"Scan and Install",value:"Install"}]},{name:"timeout",label:"Timeout (Minutes)",inputType:"input"},{name:"retries",label:"Retries",inputType:"input",datatype:"number"},{name:"message",label:"Message",inputType:"input",datatype:"string"},{name:"logentry",label:"Log entry",inputType:"textarea",datatype:"string"}],MessageNode:[{name:"message",label:"Message",inputType:"input",datatype:"string"},{name:"logentry",label:"Log entry",inputType:"textarea",datatype:"string"}],WaitNode:[{name:"waittime",label:"Wait Time (Seconds)",inputType:"input",datatype:"number"},{name:"logentry",label:"Log entry",inputType:"textarea",datatype:"string"}],SettingsNode:[{name:"logfile",label:"Log File",inputType:"input",datatype:"string"},{name:"logentry",label:"Log entry",inputType:"textarea",datatype:"string"}]},e.WorkflowSettingsKeys=[{name:"name",label:"Orchestration Name",inputType:"input",datatype:"string"},{name:"category",label:"Category",inputType:"list",listItem:[],dynamics:{enabled:!0,type:"category"}},{name:"description",label:"Description",inputType:"textarea",datatype:"string"},{name:"logentry",label:"Log entry",inputType:"textarea",datatype:"string"},{name:"module",label:"Module",inputType:"list",listItem:[{label:"General",value:"General"},{label:"CICD",value:"CICD"},{label:"DR",value:"DR"}]}];e.default=class{constructor(t,e){this.canvas=t,this.htmlLayer=e}getAnchorPoint(t){const e=this.canvas.getContext("2d");return new r.default(e,t)}getLink(t){return new o.default(this.canvas,this.htmlLayer,t,2===t.length)}getIndicator(t){return new n.default(this.canvas,this.htmlLayer,t)}getNode(t,e){let s=null;switch(t){case x.CopyNode:s=new v.default(this.canvas,this.htmlLayer,e);break;case x.ActivityNode:s=new a.default(this.canvas,this.htmlLayer,e);break;case x.DecisionNode:s=new l.default(this.canvas,this.htmlLayer,e);break;case x.EndNode:s=new c.default(this.canvas,this.htmlLayer,e);break;case x.HorizontalForkJoinNode:s=new d.default(this.canvas,this.htmlLayer,e);break;case x.StartNode:s=new h.default(this.canvas,this.htmlLayer,e);break;case x.TextNode:{const t=Object.assign({placeholder:"Text",text:""},e);s=new u.default(this.canvas,this.htmlLayer,t);break}case x.VerticalForkJoinNode:s=new p.default(this.canvas,this.htmlLayer,e);break;case x.MachineNode:s=new f.default(this.canvas,this.htmlLayer,e);break;case x.SessionNode:s=new m.default(this.canvas,this.htmlLayer,e);break;case x.MessageNode:s=new _.default(this.canvas,this.htmlLayer,e);break;case x.RestartNode:s=new E.default(this.canvas,this.htmlLayer,e);break;case x.WaitNode:s=new g.default(this.canvas,this.htmlLayer,e);break;case x.PatchNode:s=new b.default(this.canvas,this.htmlLayer,e);break;case x.SettingsNode:s=new y.default(this.canvas,this.htmlLayer,e)}return s}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.SHAPE_LABEL_STYLE={fontSize:i.FONT_SIZE,fontName:i.FONT_NAME,lineHeight:i.LINE_HEIGHT,align:"left",verticalAlign:"top",background:{color:i.SHAPE_LABEL_COLOR}},e.SHAPE_SELECTION_STYLE={border:{color:i.SHAPE_SELECTION_COLOR,style:"longDashed",width:i.SHAPE_SELECTION_BORDER_WIDTH}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(0),n=i(s(15)),o=i(s(12)),a={border:{color:r.POINT_BORDER_COLOR,style:"solid",width:r.POINT_BORDER_WIDTH},background:{color:r.POINT_BACKGROUND_COLOR}},l={background:{color:r.POINT_BORDER_COLOR}};var c;!function(t){t.Top="Top",t.Bottom="Bottom",t.Left="Left",t.Right="Right",t.TopBottom="TopBottom",t.LeftRight="LeftRight"}(c||(c={}));class d{constructor(t,{x:e,y:s},i=null){this.links=[],this.id=o.default(),this.x=e,this.y=s,this.orientation=i;const c={x:e,y:s,radius:r.POINT_RADIUS},d={x:e,y:s,radius:r.POINT_DOT_RADIUS};this.ctx=t;const h=t.canvas,u=document.createElement("div");this.circle=new n.default(h,u,a,c),this.dot=new n.default(h,u,l,d)}createVector(t,e=1){const s={x:t.x-this.x,y:t.y-this.y},i={x:this.x,y:this.y};switch(this.orientation){case d.Orientation.Bottom:i.y+=e;break;case d.Orientation.Top:i.y-=e;break;case d.Orientation.Left:i.x-=e;break;case d.Orientation.Right:i.x+=e;break;case d.Orientation.LeftRight:i.x+=e*Math.sign(s.x);break;case d.Orientation.TopBottom:i.y+=e*Math.sign(s.y);break;default:Math.abs(s.x)>Math.abs(s.y)?i.x+=e*Math.sign(s.x):i.y+=e*Math.sign(s.y)}return i}draw(){this.circle.draw(),this.dot.draw()}includes({x:t,y:e}){return this.circle.includes(t,e)}move(t,e){this.x+=t,this.y+=e,this.circle.move(t,e),this.dot.move(t,e),this.links.forEach(t=>{t.isOrthogonal&&t.applyOrthogonality()})}}e.default=d,d.Orientation=c},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(12));e.default=class{constructor(t,e,s){this.points=[],this._isActive=!1,this._isHover=!1,this._label="",this._isEditing=!1,this.canvas=t,this.htmlLayer=e,this.ctx=t.getContext("2d"),this.id=s.id||r.default(),this._label=s.label||"",this._data=s.data||{},this.x=s.x,this.y=s.y}get isActive(){return this._isActive}set isActive(t){this._isActive=t}get isHover(){return this._isHover}set isHover(t){this._isHover=t}get label(){return this._label}set label(t){this._label=t||""}get data(){return this._data}set data(t){this._data=t||{}}get isEditing(){return this._isEditing}set isEditing(t){this._isEditing=t}getParams(){JSON.stringify(this._data);return{id:this.id,label:this.label,x:this.x,y:this.y,data:this._data}}getConnectionPoint(t){return this.points.find(e=>e.includes(t))}createConnectionPoints(t){t.forEach(t=>{t.owner=this}),this.points=t}renderHtml(t,e){}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(0),n=i(s(8)),o=s(17),a=s(9),l=s(13);e.default=class{constructor(t,e,s,i){this._isActive=!1,this._isHover=!1,this.canvas=t,this.htmlLayer=e,this.ctx=t.getContext("2d"),this.placeholder=s.placeholder,this._text=s.text,this.x=s.x,this.y=s.y,this.maxWidth=s.maxWidth,this.maxHeight=s.maxHeight,this.textStyle=i}get isActive(){return this._isActive}set isActive(t){this._isActive=t}get isHover(){return this._isHover}set isHover(t){this._isHover=t}get text(){return this._text}set text(t){this._text=t}get data(){return this._data}set data(t){this._data=t}draw(){const t=this.textParams;this.isActive&&(t.maxHeight=void 0),a.drawText(this.ctx,this.textStyle,t)}includes(t,e){return!!this.text&&a.isPointInText(this.ctx,this.textStyle,this.textParams,t,e)}move(t,e){this.x+=t,this.y+=e}get textParams(){return{placeholder:this.placeholder,text:this.text,x:this.x,y:this.y,maxWidth:this.maxWidth,maxHeight:this.maxHeight}}renderHtml(t,e,s,i){if(i){const i=this.createTextEditor(t);i.focus(),i.onmousedown=t=>{t.stopPropagation()},l.moveCursorToTheEnd(i);const r=()=>{e.dispatch(n.default.SET_INDICATOR_EDIT,{id:s,isEditing:!1}),e.dispatch(n.default.SET_NODE_EDIT,{id:s,isEditing:!1})},o=t=>{const a=i.innerText.trim();this._text=a,e.dispatch(n.default.UPDATE_SHAPE_TEXT,{id:s,text:a}),i!==t.target&&(r(),document.removeEventListener("mousedown",o))};i.addEventListener("keyup",t=>{"Escape"===t.code&&(r(),document.removeEventListener("mousedown",o))}),document.addEventListener("mousedown",o)}}createTextEditor(t){const{fontName:e,fontSize:s,lineHeight:i,align:n,verticalAlign:o}=this.textStyle,a="center"===n?this.getLeftIfAlignCenter():this.x,l=this.y-.5*("middle"===o?this.maxHeight||i:0),c="middle"===o?"center":"flex-start",d=document.createElement("div");Object.assign(d.style,Object.assign(Object.assign({position:"absolute",top:l+"px",left:a+"px",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:c,padding:r.SHAPE_LABEL_PADDING+"px"},this.maxWidth?{width:this.maxWidth+"px"}:{}),{minHeight:(this.maxHeight?this.maxHeight:i+2*r.SHAPE_LABEL_PADDING)+"px",border:"none",outline:r.TEXT_NODE_BORDER_COLOR_ACTIVE+" solid 2px",outlineOffset:"-1px"}));const h=document.createElement("div");Object.assign(h.style,{textAlign:n});const u=document.createElement("div");return u.setAttribute("contenteditable","true"),u.innerHTML=this._text,Object.assign(u.style,{outline:"none",cursor:"text",fontFamily:e,fontSize:s+"px",lineHeight:i+"px",display:"inline-block",verticalAlign:"text-top",wordBreak:"break-all",whiteSpace:"pre-wrap"}),d.appendChild(h),h.appendChild(u),t.appendChild(d),u}getLeftIfAlignCenter(){const t=o.wrapText(this.ctx,this.textStyle,this.text,this.maxWidth);return this.x-(this.maxWidth?this.maxWidth:a.measureTextLine(this.ctx,this.textStyle,t[0]).width)/2}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(9);e.default=class{constructor(t,e){this._isActive=!1,this._isHover=!1,this.canvas=t,this.htmlLayer=e,this.ctx=t.getContext("2d")}get isActive(){return this._isActive}set isActive(t){this._isActive=t}get isHover(){return this._isHover}set isHover(t){this._isHover=t}draw(){i.drawPath2D(this.ctx,this.path2d,this.getCurrentStyle())}getCurrentStyle(){const t=this.style;return this.isActive?t.active||t:this.isHover&&t.hover||t}includes(t,e){return this.ctx.isPointInPath(this.path2d,t,e)}setStyle(t){this.style=t}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(14);function r(t,e=0){const s=t.length;if(s<3)throw new Error("Failed to create a closed path: 3 or more points must be provided");const i=new Path2D;i.moveTo((t[0].x+t[s-1].x)/2,(t[0].y+t[s-1].y)/2);for(let r=0;r<s;r++){const n=t[r],o=r+1<s?t[r+1]:t[0];i.arcTo(n.x,n.y,(n.x+o.x)/2,(n.y+o.y)/2,e)}return i.closePath(),i}function n(t,e=0){const s=t.length;if(s<2)throw new Error("Failed to create a path: 2 or more points must be provided");const i=new Path2D;i.moveTo(t[0].x,t[0].y);for(let r=1;r<s;r++){const s=t[r-1],n=t[r];i.arcTo(s.x,s.y,n.x,n.y,e)}return i.lineTo(t[s-1].x,t[s-1].y),i}e.createCirclePath2D=function(t){const e=new Path2D;return e.arc(t.x,t.y,t.radius,0,2*Math.PI),e},e.createLinePath2D=function(t){return n([t.from,...t.midPoints,t.to])},e.createPinPath2D=function(t){const e=t.radius,s=t.height||1.5*t.radius,i=t.x,r=t.y-(s-e)/4,n=new Path2D;return n.moveTo(i,r-e),n.arc(i,r,e,-Math.PI/2,0),n.bezierCurveTo(i+e,r+.3*s,i+.5*e,r+.7*s,i,r+s),n.bezierCurveTo(i-.5*e,r+.7*s,i-e,r+.3*s,i-e,r),n.arc(i,r,e,-Math.PI,-Math.PI/2),n.closePath(),n},e.createRectanglePath2D=function(t){const e=t.x,s=t.y,i=t.width/2,n=t.height/2;return r([{x:e-i,y:s+n},{x:e+i,y:s+n},{x:e+i,y:s-n},{x:e-i,y:s-n}],t.borderRadius)},e.createRhombusPath2D=function(t){const e=t.x,s=t.y,n=t.width/2,o=t.height/2,a={x:e+o,y:s},l={x:e,y:s+n},c={x:e-o,y:s},d={x:e,y:s-n},h=t.borderRadius;if(h){const t=i.calculateRoundingShift(d,c,a,h),e=i.calculateRoundingShift(a,d,l,h);a.x+=e,l.y+=t,c.x-=e,d.y-=t}return r([a,l,c,d],h)},e.createPlainCrossRhombusPath2D=function(t){const e=t.x,s=t.y,r=t.width/2,n=t.height/2,o={x:e+n,y:s},a={x:e,y:s+r},l={x:e-n,y:s},c={x:e,y:s-r},d=t.borderRadius;if(d){const t=i.calculateRoundingShift(c,l,o,d),e=i.calculateRoundingShift(o,c,a,d);o.x+=e,a.y+=t,l.x-=e,c.y-=t}let h=new Path2D,u=[o,a,l,c];const p=u.length;h.moveTo((u[0].x+u[p-1].x)/2,(u[0].y+u[p-1].y)/2);for(let t=0;t<p;t++){const e=u[t],s=t+1<p?u[t+1]:u[0];h.arcTo(e.x,e.y,(e.x+s.x)/2,(e.y+s.y)/2,0)}return h.lineTo(u[p-1].x,u[p-1].y),h.closePath(),h},e.createMachinePath2D=function(t){const e=t.x,s=t.y,i=t.width/2,r=t.height/2,n={x:e-i,y:s+r},o={x:e+i,y:s+r},a={x:e+i,y:s-r},l={x:e-i,y:s-r};let c=new Path2D,d=[n,o,a,l];const h=d.length;c.moveTo((d[0].x+d[h-1].x)/2,(d[0].y+d[h-1].y)/2);for(let t=0;t<h;t++){const e=d[t],s=t+1<h?d[t+1]:d[0];c.arcTo(e.x,e.y,(e.x+s.x)/2,(e.y+s.y)/2,0)}return c.lineTo(d[h-1].x,d[h-1].y),c.closePath(),c},e.createPatchPath2D=function(t){const e=t.x,s=t.y,i=.5*t.width,r=.5*t.height+5,n={x:e-i,y:s+r},o={x:e+i,y:s+r},a={x:e+i,y:s-r},l={x:e-i,y:s-r};let c=new Path2D,d=[n,o,a,l];const h=d.length;c.moveTo((d[0].x+d[h-1].x)/2,(d[0].y+d[h-1].y)/2);for(let t=0;t<h;t++){const e=d[t],s=t+1<h?d[t+1]:d[0];c.arcTo(e.x,e.y,(e.x+s.x)/2,(e.y+s.y)/2,0)}return c.lineTo(d[h-1].x,d[h-1].y),c.closePath(),c},e.createSessionPath2D=function(t){const e=t.x,s=t.y,i=t.width/2,r=t.height/2,n={x:e-i,y:s+r},o={x:e+i,y:s+r},a={x:e+i,y:s-r},l={x:e-i,y:s-r};let c=new Path2D,d=[n,o,a,l];const h=d.length;return c.moveTo((d[0].x+d[h-1].x)/2,(d[0].y+d[h-1].y)/2),c.arc(e,s,i,0,2*Math.PI),c},e.createWaitPath2D=function(t){const e=t.x,s=t.y,i=t.width/2,r=t.height/2,n={x:e-i,y:s+r},o={x:e+i,y:s+r},a={x:e+i,y:s-r},l={x:e-i,y:s-r};let c=new Path2D,d=[n,o,a,l];const h=d.length;return c.moveTo((d[0].x+d[h-1].x)/2,(d[0].y+d[h-1].y)/2),c.arc(e,s,r,0,2*Math.PI),c.arc(e,s,r/2,0,2*Math.PI),c.arc(e,s,r/3,0,2*Math.PI),c},e.createSettingsPath2D=function(t){const e=t.x,s=t.y,i=t.width/2,r=t.height/2,n={x:e-i,y:s+r},o={x:e+i,y:s+r},a={x:e+i,y:s-r},l={x:e-i,y:s-r};let c=new Path2D,d=[n,o,a,l];const h=d.length;return c.moveTo((d[0].x+d[h-1].x)/2,(d[0].y+d[h-1].y)/2),c.rect(e,s,i,r),c.arc(e,s,r/2,0,2*Math.PI),c.arc(e,s,r/3,0,2*Math.PI),c},e.createMessagePath2D=function(t){const e=t.x,s=t.y,i=t.width/2,r=t.height/2,n={x:e-i,y:s-r},o={x:e+i,y:s-r},a={x:e+i,y:s+r},l={x:e-i,y:s+r};t.borderRadius=0;let c=new Path2D,d=[n,o,a,l];const h=d.length;c.moveTo((d[0].x+d[h-1].x)/2,(d[0].y+d[h-1].y)/2);for(let t=0;t<h;t++){const e=d[t],s=t+1<h?d[t+1]:d[0];c.quadraticCurveTo(e.x,e.y,(e.x+s.x)/2,(e.y+s.y)/2)}return c.lineTo(d[h-1].x,d[h-1].y),c.lineTo(d[h-1].x-10,d[h-1].y+10),c.closePath(),c},e.createClosedPath=r,e.createPath=n},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={SET_INDICATOR:"SET_INDICATOR",SET_NODE:"SET_NODE",SET_CONNECTOR:"SET_CONNECTOR",SET_NEW_CONNECTOR:"SET_NEW_CONNECTOR",SET_CONNECTION_POINT:"SET_CONNECTION_POINT",SET_INDICATOR_EDIT:"SET_INDICATOR_EDIT",SET_NODE_EDIT:"SET_NODE_EDIT",SET_WORKFLOWSETTINGS_EDIT:"SET_WORKFLOWSETTINGS_EDIT",ADD_CONNECTOR:"ADD_CONNECTOR",ADD_INDICATOR:"ADD_INDICATOR",ADD_NODE:"ADD_NODE",DELETE_INDICATOR:"DELETE_INDICATOR",DELETE_NODE:"DELETE_NODE",DELETE_CONNECTOR:"DELETE_CONNECTOR",UPDATE_NODE_PROPERTIES:"UPDATE_NODE_PROPERTIES",UPDATE_SHAPE_TEXT:"UPDATE_SHAPE_TEXT",UPDATE_SHAPE_DATA:"UPDATE_SHAPE_DATA",CLEAR_DIAGRAM:"CLEAR_DIAGRAM",DRAW:"DRAW",IMPORT:"IMPORT",GRID_VIEW:"GRID_VIEW",GRID_SNAP:"GRID_SNAP",UNDO:"UNDO",REDO:"REDO",AUTO_LAYOUT:"AUTO_LAYOUT",ESCAPE:"ESCAPE",CHANGE_SCALE:"CHANGE_SCALE",UPDATE_WORKFLOWSETTINGS_DATA:"UPDATE_WORKFLOWSETTINGS_DATA"}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),r=s(17);function n(t){let e;return e="dotted"===t?[2,8]:"dashed"===t?[10,10]:"longDashed"===t?[15,3]:"solid"===t?[]:t,e}function o(t,e,s,i,r){l(t,e,()=>{const o=e.background;o&&(t.fillStyle=o.color,t.fillText(s,i,r));const a=e.border;a&&(t.lineWidth=a.width,t.strokeStyle=a.color,t.setLineDash(n(a.style)),t.strokeText(s,i,r))})}function a(t,e,s){let i=t.measureText(s);return l(t,e,()=>{i=t.measureText(s)}),i}function l(t,e,s){t.save(),t.font=`${e.fontSize}px ${e.fontName}`,t.textAlign=e.align,t.textBaseline=e.verticalAlign,s(),t.restore()}e.drawPath2D=function(t,e,s){t.save(),s.background&&(t.fillStyle=s.background.color,t.fill(e)),s.border&&(t.lineWidth=s.border.width,t.strokeStyle=s.border.color,t.setLineDash(n(s.border.style)),t.stroke(e)),t.restore()},e.drawText=function(t,e,s){const n=s.x+("center"===e.align?0:i.SHAPE_LABEL_PADDING),a=s.y+("middle"===e.verticalAlign?e.fontSize/10:e.fontSize/5+i.SHAPE_LABEL_PADDING),l=s.maxWidth?s.maxWidth-2*i.SHAPE_LABEL_PADDING:s.maxWidth,c=s.maxHeight?s.maxHeight-2*i.SHAPE_LABEL_PADDING:s.maxHeight,d=r.wrapText(t,e,s.text||s.placeholder||"",l,c),h=d.length>3?3:d.length,u="middle"===e.verticalAlign?-e.lineHeight*(h-1)/2:0;d.forEach((s,i)=>{o(t,e,s,n,a+u+i*e.lineHeight)})},e.drawTextLine=o,e.measureText=function(t,e,s){const n=s.x,o=s.y+("middle"===e.verticalAlign?-e.lineHeight/2:0),l=s.maxWidth?s.maxWidth-2*i.SHAPE_LABEL_PADDING:s.maxWidth,c=s.maxHeight?s.maxHeight-2*i.SHAPE_LABEL_PADDING:s.maxHeight,d=r.wrapText(t,e,s.text||s.placeholder||"",l,c),h=d.length*e.lineHeight,u=d.map(s=>a(t,e,s).width);return l&&u.push(l),{x:n,y:o,width:Math.max(...u),height:c?Math.max(c,h):h}},e.measureTextLine=a,e.isPointInText=function(t,e,s,i,r){let n=!1;return l(t,e,()=>{const o=t.measureText(s.text||s.placeholder||""),a=Math.min(s.maxWidth||0,o.width),l=e.fontSize,c=new Path2D,d=function(t,e,s){return"center"===t?e-s/2:"end"===t||"right"===t?e-s:e}(t.textAlign,s.x,a),h=function(t,e,s){return"middle"===t?e-s/2:"bottom"===t||"alphabetic"===t?e-s:e}(t.textBaseline,s.y,l);c.rect(d,h,a,l),n=t.isPointInPath(c,i,r)}),n}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(6)),n=s(7);class o extends r.default{constructor(t,e,s,i){super(t,e),this.params=Object.assign({},i),this.style=s,this.path2d=n.createRectanglePath2D(this.params)}move(t,e){this.params.x+=t,this.params.y+=e,this.path2d=n.createRectanglePath2D(this.params)}}e.default=o},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(2),n=s(0),o=i(s(5)),a=i(s(26)),l=s(9),c=s(27),d=i(s(12));e.isIndicatorColorScheme=function(t){return["success","info","warn","error"].includes(t)};e.default=class{constructor(t,e,s){this.value=0,this._isActive=!1,this._isHover=!1,this._isEditing=!1,this.canvas=t,this.htmlLayer=e,this.ctx=t.getContext("2d"),this.id=s.id||d.default(),this._label=s.label||"",this.x=s.x,this.y=s.y,this.radius=s.radius,this.pin=new a.default(t,e,u(this.colorScheme),s),this.pinHover=new a.default(t,e,{border:{color:n.INDICATOR_DEFAULT_BACKGROUND_COLOR,style:"longDashed",width:n.SHAPE_SELECTION_BORDER_WIDTH}},Object.assign(Object.assign({},s),{radius:1.25*s.radius})),this.textEditor=new o.default(t,e,{text:this.label,x:this.x+.5*this.radius,y:this.y+1.5*this.radius,maxWidth:n.SHAPE_LABEL_WIDTH,maxHeight:n.SHAPE_LABEL_HEIGHT},r.SHAPE_LABEL_STYLE)}get label(){return this._label}set label(t){this._label=t,this.textEditor.text=this.label}get data(){return this._label}set data(t){this._data=t,this.textEditor.data=this._data}get isActive(){return this._isActive}set isActive(t){this._isActive=t}get isHover(){return this._isHover}set isHover(t){this._isHover=t}get isEditing(){return this._isEditing}set isEditing(t){this._isEditing=t}getParams(){return{id:this.id,label:this._label,x:this.x,y:this.y,radius:this.radius}}draw(){this.pin.draw(),(this.isHover||this.isActive)&&this.pinHover.draw(),this.drawLabel(),this.textEditor.isActive=this.isActive,this.isEditing||this.textEditor.draw()}drawLabel(){const t=c.shortenNumber(this.value);l.drawTextLine(this.ctx,function(t,e){const s=e?h[e].color:n.INDICATOR_DEFAULT_COLOR;return{fontSize:.7*t,fontName:n.FONT_NAME,lineHeight:n.LINE_HEIGHT,align:"center",verticalAlign:"middle",background:{color:s}}}(this.radius,this.colorScheme),t,this.x,this.y)}includes(t,e){return this.pin.includes(t,e)||this.textEditor.includes(t,e)}move(t,e){this.x+=t,this.y+=e,this.pin.move(t,e),this.pinHover.move(t,e),this.textEditor.move(t,e)}getValue(){return this.value}setValue(t,e){this.colorScheme=e,this.value=Math.trunc(t),this.pin.setStyle(u(this.colorScheme))}renderHtml(t,e){this.textEditor.renderHtml(t,e,this.id,this.isEditing)}};const h={success:{color:n.INDICATOR_DEFAULT_COLOR,background:n.INDICATOR_SUCCESS_BACKGROUND_COLOR},info:{color:n.INDICATOR_DEFAULT_COLOR,background:n.INDICATOR_INFO_BACKGROUND_COLOR},warn:{color:n.INDICATOR_DEFAULT_COLOR,background:n.INDICATOR_WARN_BACKGROUND_COLOR},error:{color:n.INDICATOR_DEFAULT_COLOR,background:n.INDICATOR_ERROR_BACKGROUND_COLOR}};function u(t){return{background:{color:t?h[t].background:n.INDICATOR_DEFAULT_BACKGROUND_COLOR}}}},function(t,e,s){for(var i=self.crypto||self.msCrypto,r="-_",n=36;n--;)r+=n.toString(36);for(n=36;n---10;)r+=n.toString(36).toUpperCase();t.exports=function(t){var e="",s=i.getRandomValues(new Uint8Array(t||21));for(n=t||21;n--;)e+=r[63&s[n]];return e}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkboxChange=t=>e=>t(e.target.checked),e.inputFileChange=t=>e=>t(e.target.files),e.textareaChange=t=>e=>t(e.target.value),e.InputtextChangeEvent=t=>e=>t(e),e.inputtextChange=t=>e=>t(e.target.value),e.buttonClick=t=>e=>t(e.target.value),e.moveCursorToTheEnd=t=>{const e=document.createRange();e.selectNodeContents(t),e.collapse(!1);const s=window.getSelection();s&&(s.removeAllRanges(),s.addRange(e))}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateRoundingShift=function(t,e,s,i){const r=Math.atan2(t.y-e.y,t.x-e.x)-Math.atan2(t.y-s.y,t.x-s.x),n=i/Math.abs(Math.tan(r/2));return Math.sqrt(Math.pow(i,2)+Math.pow(n,2))-i},e.belongsToLine=function(t,e,s){const i=(s.x-e.x)*(t.y-e.y)-(s.y-e.y)*(t.x-e.x),r=Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2));return Math.abs(i)<5*r},e.belongsToRectangle=function(t,e){const s=e.x-.5*e.width,i=e.y-.5*e.height,r=s+e.width,n=i+e.height;return s<=t.x&&t.x<=r&&i<=t.y&&t.y<=n},e.isConvex=function(...t){if(t.length>=4){const e=t.length;let s=!1;for(let i=0;i<e;i++){const r=t[(i+2)%e].x-t[(i+1)%e].x,n=t[(i+2)%e].y-t[(i+1)%e].y,o=t[i].x-t[(i+1)%e].x,a=r*(t[i].y-t[(i+1)%e].y)-n*o;if(0===i)s=a>0;else if(s!==a>0)return!1}}return!0},e.getAngle=function(t,e,s,i){const r=180*(Math.atan2(i.y-s.y,i.x-s.x)-Math.atan2(e.y-t.y,e.x-t.x))/Math.PI;return r<0?360+r:r},e.rotatePoint=function(t,e,s){const i=Math.PI/180*s,r=Math.cos(i),n=Math.sin(i);return{x:Math.round(r*(e.x-t.x)+n*(e.y-t.y)+t.x),y:Math.round(r*(e.y-t.y)+n*(e.x-t.x)+t.y)}},e.lineProjectPoint=function(t,e,s){const i=e.x-t.x,r=e.y-t.y,n=i*(s.x-t.x)+r*(s.y-t.y),o=i*i+r*r;return{x:Math.round(t.x+n*i/o),y:Math.round(t.y+n*r/o)}},e.getMidpoint=function(t,e){return{x:e.x+.5*(t.x-e.x),y:e.y+.5*(t.y-e.y)}},e.extendLine=function(t,e,s){const i=(e.x-t.x)/Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),r=(e.y-t.y)/Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));return{x:e.x+i*s,y:e.y+r*s}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(6)),n=s(7);class o extends r.default{constructor(t,e,s,i){super(t,e),this.params=Object.assign({},i),this.style=s,this.path2d=n.createCirclePath2D(this.params)}move(t,e){this.params.x+=t,this.params.y+=e,this.path2d=n.createCirclePath2D(this.params)}}e.default=o},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(0),n=i(s(93)),o=i(s(8));function a(t,e,s=10){let i=1/0,r=1/0,n=0,o=0;const a=t=>{t.x+s>n&&(n=t.x+s),t.x-s<i&&(i=t.x-s),t.y+s>o&&(o=t.y+s),t.y-s<r&&(r=t.y-s)};return t.forEach(t=>t.points.forEach(a)),e.forEach(t=>t.points.forEach(a)),{min:{x:i,y:r},max:{x:n,y:o}}}e.chartBorderDefinition=a;e.default=class{constructor(t){this.animate=()=>{this.requestAnimationFrameId=window.requestAnimationFrame(()=>this.draw())},this.onKeyDown=t=>{if(!t.ctrlKey||"+"!==t.key&&"Add"!==t.key?!t.ctrlKey||"-"!==t.key&&"Subtract"!==t.key||(this.store.dispatch(o.default.CHANGE_SCALE,this.store.scale-.1),t.preventDefault()):(this.store.dispatch(o.default.CHANGE_SCALE,this.store.scale+.1),t.preventDefault()),!this.context.options.viewMode){t.ctrlKey&&"z"===t.key.toLowerCase()&&(this.store.dispatch(t.shiftKey?o.default.REDO:o.default.UNDO),t.preventDefault());if((()=>{if(!(t.target instanceof HTMLElement&&t.target.shadowRoot))return!1;const e=t.target.shadowRoot.activeElement;return e instanceof HTMLElement&&("true"===e.contentEditable||"INPUT"===e.tagName||"TEXTAREA"===e.tagName)})())return void this.store.dispatch(o.default.DRAW);switch(t.key){case"Backspace":case"Delete":this.handleDelete(),t.preventDefault();break;case"Escape":this.store.dispatch(o.default.ESCAPE),t.preventDefault()}}this.store.dispatch(o.default.DRAW)},this.autoLayout=()=>{this.autoSizeWorkspace();const t=this.workspace.offsetWidth,e=this.workspace.offsetHeight,s=this.workspaceContainer.offsetWidth/2,i=this.workspaceContainer.offsetHeight/2,{min:r,max:n}=a(this.store.nodes,this.store.links),l=s-(r.x+(n.x-r.x)/2),c=i-(r.y+(n.y-r.y)/2);this.store.moveAllIndicators(l,c),this.store.moveAllLinks(l,c),this.store.moveAllNodes(l,c),this.workspaceContainer.style.top=(e-this.workspaceContainer.offsetHeight)/2+"px",this.workspaceContainer.style.left=(t-this.workspaceContainer.offsetWidth)/2+"px",this.store.dispatch(o.default.DRAW)},this.autoSizeWorkspace=()=>{const t=r.GRID_STEP*r.GRID_MAIN_LINE_STEP,e=this.workspace.offsetWidth,s=this.workspace.offsetHeight,i=Math.trunc(e/t)*t,n=Math.trunc(s/t)*t,{min:o,max:l}=a(this.store.nodes,this.store.links),c=Math.trunc(l.x/t)*t,d=Math.trunc(l.y/t)*t,h=Math.max(c+2*t,i),u=Math.max(d+2*t,n);this.workspaceCanvas.width=h,this.workspaceCanvas.height=u,this.workspaceContainer.style.top=(s>u?.5*(s-u):0)+"px",this.workspaceContainer.style.left=(e>h?.5*(e-h):0)+"px"},this.handleChangeScale=()=>{this.workspaceContainer.style.transform=`scale(${this.store.scale})`},this.handleDelete=()=>{this.store.selectedIndicator?this.store.dispatch(o.default.DELETE_INDICATOR,this.store.selectedIndicator):this.store.selectedNode?this.store.dispatch(o.default.DELETE_NODE,this.store.selectedNode):this.store.selectedConnector&&this.store.dispatch(o.default.DELETE_CONNECTOR,this.store.selectedConnector),this.store.dispatch(o.default.DRAW)},this.renderHtml=()=>{const t=this.workspaceHtmlLayer;for(;t.firstChild;)t.removeChild(t.firstChild);this.store.indicators.forEach(e=>e.renderHtml(t,this.store)),this.store.nodes.forEach(e=>e.renderHtml(t,this.store))},this.context=t,this.store=t.store,this.workspace=t.layout.workspace,this.workspaceContainer=t.layout.workspaceContainer,this.workspaceCanvas=t.layout.workspaceCanvas,this.workspaceHtmlLayer=t.layout.workspaceHtmlLayer,this.ctx=this.workspaceCanvas.getContext("2d"),this.grid=new n.default(this.ctx),this.animate(),this.renderHtml(),document.addEventListener("keydown",this.onKeyDown),this.store.subscribe(o.default.CLEAR_DIAGRAM,this.animate),this.store.subscribe(o.default.DRAW,this.animate),this.store.subscribe(o.default.IMPORT,this.animate),this.store.subscribe(o.default.IMPORT,this.autoSizeWorkspace),this.store.subscribe(o.default.AUTO_LAYOUT,this.autoLayout),this.store.subscribe(o.default.CHANGE_SCALE,this.handleChangeScale),this.store.subscribe(o.default.SET_INDICATOR_EDIT,this.renderHtml),this.store.subscribe(o.default.SET_NODE_EDIT,this.renderHtml)}clear(){this.ctx.clearRect(0,0,this.workspaceCanvas.width,this.workspaceCanvas.height)}draw(){this.clear(),this.store.grid.enabled&&this.grid.draw(this.workspaceCanvas.width,this.workspaceCanvas.height),this.store.nodes.forEach(t=>{t.isHover&&t.isActive||t.draw()}),this.store.links.forEach(t=>{t.isHover&&t.isActive||t.draw()}),this.store.nodes.forEach(t=>{(t.isHover||t.isActive)&&t.draw()}),this.store.links.forEach(t=>{(t.isHover||t.isActive)&&t.draw()}),this.store.indicators.forEach(t=>{t.isHover&&t.isActive||t.draw()}),this.store.indicators.forEach(t=>{(t.isHover||t.isActive)&&t.draw()}),this.store.newConnector&&this.store.newConnector.draw()}unmount(){this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId),document.removeEventListener("keydown",this.onKeyDown),this.store.unsubscribe(o.default.CLEAR_DIAGRAM,this.animate),this.store.unsubscribe(o.default.DRAW,this.animate),this.store.unsubscribe(o.default.IMPORT,this.animate),this.store.unsubscribe(o.default.IMPORT,this.autoSizeWorkspace),this.store.unsubscribe(o.default.AUTO_LAYOUT,this.autoLayout),this.store.unsubscribe(o.default.CHANGE_SCALE,this.handleChangeScale),this.store.unsubscribe(o.default.SET_INDICATOR_EDIT,this.renderHtml),this.store.unsubscribe(o.default.SET_NODE_EDIT,this.renderHtml)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),r=s(9);function n(t,e,s,i=1/0){const n=[];let o="";for(let a=0;a<s.length;a++){const l=s[a],c=o+l;r.measureTextLine(t,e,c).width>i?(n.push(o),o=l):o=c}return n.push(o),n}e.wrapText=function(t,e,s,r=1/0,o=1/0){const a=[],l=Math.trunc(o/i.LINE_HEIGHT),c=function(t){return t.split(/\r\n|\r|\n/g)}(s);for(let s=0;s<c.length;s++){const i=n(t,e,c[s],r);for(let t=0;t<i.length&&a.length<l;t++)a.push(i[t])}return a}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(11)),n=s(1);function o(){const t=document.createElement("canvas");return t.draggable=!0,t.width=80,t.height=60,t}e.default=class{constructor(t,e){this.handleToggle=()=>{this.libraryElement.classList.toggle("active")},this.diagram=t.diagram,this.libraryElement=e,this.toggleControl=this.libraryElement.querySelector(".fl-panel-toggler"),this.toggleControl.onclick=this.handleToggle;const s=document.createDocumentFragment();this.diagram.nodes.forEach(t=>{this.createNodeItem(s,t)}),this.createItemsDivider(s),this.createIndicatorItem(s),this.libraryElement.appendChild(s)}createNodeItem(t,s){const i=o(),r=document.createElement("div"),n=this.diagram.createNodeFactory(i,r).getNode(s,{x:40,y:35}),a=e.getNodeLabel(s);if(n){const e=i.getContext("2d"),s=document.createElement("div"),r=document.createElement("div");r.classList.add("item-label"),r.innerText=a,s.classList.add("fl-library-item"),s.appendChild(i),s.appendChild(r),i.addEventListener("dragstart",t=>{t.dataTransfer&&t.dataTransfer.setData("node",n.name)}),i.addEventListener("mousemove",t=>{n.isHover=n.previewIncludes({x:t.offsetX,y:t.offsetY}),i.style.cursor=n.isHover?"pointer":"default",e.clearRect(0,0,i.width,i.height),n.drawPreview()}),i.addEventListener("mouseleave",t=>{n.isHover=!1,i.style.cursor="default",e.clearRect(0,0,i.width,i.height),n.drawPreview()}),n.drawPreview(),t.appendChild(s)}}createItemsDivider(t){const e=document.createElement("hr");e.classList.add("fl-library-divider"),t.appendChild(e)}createIndicatorItem(t){const e=o(),s=this.libraryElement.querySelector("div"),i=new r.default(e,s,{x:40,y:30,radius:16}),n=e.getContext("2d"),a=document.createElement("div");a.classList.add("fl-library-item"),a.appendChild(e),e.addEventListener("dragstart",t=>{t.dataTransfer&&t.dataTransfer.setData("indicator","any")}),e.addEventListener("mousemove",t=>{i.isHover=i.includes(t.offsetX,t.offsetY),e.style.cursor=i.isHover?"pointer":"default",n.clearRect(0,0,e.width,e.height),i.draw()}),e.addEventListener("mouseleave",t=>{i.isHover=!1,e.style.cursor="default",n.clearRect(0,0,e.width,e.height),i.draw()}),i.draw(),t.appendChild(a)}unmount(){const t=this.libraryElement;for(;t.firstChild;)t.removeChild(t.firstChild)}},e.getNodeLabel=t=>{let e="";switch(t){case n.UmlNodes.StartNode:e="Start";break;case n.UmlNodes.EndNode:e="End";break;case n.UmlNodes.HorizontalForkJoinNode:e="Horizontal Connector";break;case n.UmlNodes.VerticalForkJoinNode:e="Vertical Connector";break;case n.UmlNodes.MachineNode:e="Machine";break;case n.UmlNodes.SessionNode:e="Session";break;case n.UmlNodes.ActivityNode:e="Script";break;case n.UmlNodes.CopyNode:e="Copy Script";break;case n.UmlNodes.PatchNode:e="Patch Manager";break;case n.UmlNodes.DecisionNode:e="Condition";break;case n.UmlNodes.TextNode:e="Text";break;case n.UmlNodes.MessageNode:e="Message";break;case n.UmlNodes.RestartNode:e="Restart";break;case n.UmlNodes.WaitNode:e="Wait";break;case n.UmlNodes.SettingsNode:e="Settings"}return e}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(12));e.default=class{constructor(t,e,s){this.isOrthogonal=!1,this._isActive=!1,this._isHover=!1,this.canvas=t,this.htmlLayer=e,this.ctx=t.getContext("2d"),this.id=r.default(),this.points=s}get isActive(){return this._isActive}set isActive(t){this._isActive=t}get isHover(){return this._isHover}set isHover(t){this._isHover=t}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BORDER_RADIUS=3;e.styles={background:{color:"rgba(137, 137, 137, 1)"},hover:{background:{color:"rgba(83, 83, 83, 1)"}},active:{background:{color:"rgba(83, 83, 83, 1)"}}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(22));!function(t){t.Flowrigami=r.default}(window)},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(23)),n={viewMode:!1};e.default=class{constructor(t,e=n){const s=new r.default(t,e);this.diagramApi=s.diagramApi,this.indicatorApi=s.indicatorApi,this.unmount=()=>{for(s.unmount();t.firstChild;)t.removeChild(t.firstChild)}}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(24)),n=i(s(25)),o=i(s(28)),a=i(s(80)),l=i(s(90)),c=i(s(18)),d=i(s(91)),h=i(s(92)),u=i(s(95));e.default=class{constructor(t,e){const s=new a.default(t,e);this.context=new o.default(s,e),this.diagramApi=new r.default(this.context),this.indicatorApi=new n.default(this.context),this.workspace=new u.default(this.context),this.bottomToolbar=new l.default(this.context),this.context.layout.library&&(this.library=new c.default(this.context,this.context.layout.library)),this.context.layout.topToolbar&&(this.topToolbar=new h.default(this.context,this.context.layout.topToolbar)),this.context.layout.propertiesPanel&&(this.propertiesPanel=new d.default(this.context,this.context.layout.propertiesPanel))}unmount(){this.workspace.unmount(),this.bottomToolbar.unmount(),this.library&&this.library.unmount(),this.topToolbar&&this.topToolbar.unmount(),this.propertiesPanel&&this.propertiesPanel.unmount()}}},function(t,e,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.DIAGRAM_WRONG_IMPORT_FORMAT="DIAGRAM_WRONG_IMPORT_FORMAT"}(i||(i={}));class r{constructor(t){this.clear=()=>{t.diagram.clear()},this.export=()=>{const e=t.diagram.export();return JSON.stringify(e,null,2)},this.import=e=>{const s=JSON.parse(e);try{t.diagram.import(s)}catch(t){throw console.error(t),new Error(r.ERRORS.DIAGRAM_WRONG_IMPORT_FORMAT)}}}}e.default=r,r.ERRORS=i},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(11);var r;!function(t){t.INDICATOR_NOT_FOUND="INDICATOR_NOT_FOUND",t.INDICATOR_WRONG_VALUE_TYPE="INDICATOR_WRONG_VALUE_TYPE",t.INDICATOR_WRONG_COLOR_SCHEME="INDICATOR_WRONG_COLOR_SCHEME"}(r||(r={}));class n{constructor(t){this.getIndicatorValue=e=>{const s=t.store.findIndicatorById(e);if(!s)throw new Error(n.ERRORS.INDICATOR_NOT_FOUND);return s.getValue()},this.setIndicatorValue=(e,s,r)=>{const o=t.store.findIndicatorById(e);if(!o)throw new Error(n.ERRORS.INDICATOR_NOT_FOUND);if("number"!=typeof s||s<0)throw new Error(n.ERRORS.INDICATOR_WRONG_VALUE_TYPE);if(r&&!i.isIndicatorColorScheme(r))throw new Error(n.ERRORS.INDICATOR_WRONG_COLOR_SCHEME);o.setValue(s,r)}}}e.default=n,n.ERRORS=r},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(6)),n=s(7);class o extends r.default{constructor(t,e,s,i){super(t,e),this.params=Object.assign({},i),this.style=s,this.path2d=n.createPinPath2D(this.params)}move(t,e){this.params.x+=t,this.params.y+=e,this.path2d=n.createPinPath2D(this.params)}}e.default=o},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=1e6,r=1e9,n=1e12,o=1e15,a=1e18;function l(t,e){const s=Math.floor(t).toString().length;return(t/e).toFixed(s%3?3-s%3:0)}e.shortenNumber=function(t){let e,s="";return t<1e3?e=t:t<i?(e=l(t,1e3),s="K"):t<r?(e=l(t,i),s="M"):t<n?(e=l(t,r),s="B"):t<o?(e=l(t,n),s="T"):t<a?(e=l(t,o),s="Qa"):(e=l(t,a),s="Qi"),e+s}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(29)),n=i(s(70));e.default=class{constructor(t,e){this.layout=t,this.options=e,this.store=new n.default(e),this.diagram=new r.default(this.store,this.layout.workspaceCanvas,this.layout.workspaceHtmlLayer)}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const n=i(s(30)),o=r(s(1));class a extends n.default{constructor(t,e,s){super(t),this.name="UML",this.nodes=[o.UmlNodes.StartNode,o.UmlNodes.EndNode,o.UmlNodes.VerticalForkJoinNode,o.UmlNodes.HorizontalForkJoinNode,o.UmlNodes.DecisionNode,o.UmlNodes.MachineNode,o.UmlNodes.SessionNode,o.UmlNodes.CopyNode,o.UmlNodes.ActivityNode,o.UmlNodes.PatchNode,o.UmlNodes.TextNode,o.UmlNodes.RestartNode,o.UmlNodes.WaitNode],this._nodeFactory=this.createNodeFactory(e,s)}get nodeFactory(){return this._nodeFactory}createNodeFactory(t,e){return new o.default(t,e)}}e.default=a},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(8)),n=s(18);e.default=class{constructor(t){this.store=t}clear(){this.store.dispatch(r.default.CLEAR_DIAGRAM)}export(){return{version:"1.0",diagram:this.name,indicators:this.prepareIndicators(this.store.indicators),links:this.prepareLinks(this.store.links,this.store.nodes),nodes:this.prepareNodes(this.store.nodes),workflowsettings:this.store.workflowsettings}}prepareIndicators(t){return t.map(t=>({params:t.getParams()}))}prepareNodes(t){return console.log("To Export::::::::::::::"),console.log(t),t.map(t=>({name:t.name,params:t.getParams(),data:t.data}))}prepareLinks(t,e){return t.map(t=>{let s;s=t.isOrthogonal?[t.points[0],t.points[t.points.length-1]]:t.points;const i=s[0],r={x:i.x,y:i.y},n=s[s.length-1],o={x:n.x,y:n.y};return{from:e.find(t=>t.getConnectionPoint(r)).id,to:e.find(t=>t.getConnectionPoint(o)).id,points:s.map(t=>({x:t.x,y:t.y}))}})}import(t){const e=[],s=[],i=[],n=t.workflowsettings;t.indicators.forEach(t=>{const s=this.nodeFactory.getIndicator(t.params);e.push(s)}),t.nodes.forEach(t=>{t.params.data=t.data;const e=this.nodeFactory.getNode(t.name,t.params);e&&i.push(e)}),t.links.forEach(t=>{const e=t.points.map((e,s)=>{let r;if(0===s){r=i.find(e=>e.id===t.from).getConnectionPoint(e)}if(s===t.points.length-1){r=i.find(e=>e.id===t.to).getConnectionPoint(e)}return r||this.nodeFactory.getAnchorPoint(e)}),r=this.nodeFactory.getLink(e);r.points[0].links.push(r),r.points[r.points.length-1].links.push(r),s.push(r)}),this.store.dispatch(r.default.IMPORT,{indicators:e,links:s,nodes:i,workflowsettings:n})}validateExports(){let t={valid:!0,validation_msg:""};return 0==this.store.nodes.length?(t.valid=!1,t.validation_msg="Workflow can't empty."):this.checkNodeExist("StartNode")?this.checkNodeExist("EndNode")?this.checkNodeExist("CopyNode")?this.checkNodeExist("ActivityNode")?this.checkNodeExist("MachineNode")?this.checkNodeExist("PatchNode")?this.checkNodeExist("SessionNode")?this.CheckAllNodeConnected().valid||(t=this.CheckAllNodeConnected()):(t.valid=!1,t.validation_msg="Please select session node."):(t.valid=!1,t.validation_msg="Please select patch node."):(t.valid=!1,t.validation_msg="Please select machine node."):(t.valid=!1,t.validation_msg="Please select script node."):(t.valid=!1,t.validation_msg="Please select copy node."):(t.valid=!1,t.validation_msg="Please select end node."):(t.valid=!1,t.validation_msg="Please select start node."),t}checkNodeExist(t){let e=!1;for(let s=0;s<this.store.nodes.length;s++)this.store.nodes[s].name==t&&(e=!0,s=this.store.nodes.length);return e}CheckAllNodeConnected(){let t={valid:!0,validation_msg:""},e=this.store.nodes;for(let s=0;s<e.length;s++){const i=e[s],r=i.points||[];if(r.length>0)for(let o=0;o<r.length;o++){0==r[o].links.length&&(t.valid=!1,t.validation_msg=n.getNodeLabel(i.name)+" Node having incomplete anchor points.",o=r.length,s=e.length)}}return t}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(0),n=i(s(3)),o=i(s(19)),a=i(s(32)),l=s(33),c={border:{color:r.LINE_COLOR,style:"solid",width:r.LINE_WIDTH}};class d extends o.default{constructor(t,e,s,i=!0){super(t,e,s),this.isOrthogonal=i,i&&(this.points=this.createOrthogonalPoints()),this.inflectionPoints=this.createInflectionPoints(),this.line=new a.default(t,e,c,this.createLineParams(this.points)),this.arrow=new a.default(t,e,c,this.createArrowParams(this.points))}createLineParams(t){const e=t[0],s=t[t.length-1];return{from:{x:e.x,y:e.y},midPoints:t.slice(1,-1).map(t=>({x:t.x,y:t.y})),to:{x:s.x,y:s.y},borderRadius:0}}createArrowParams(t){const[e,s]=t.slice(-2).map(t=>({x:t.x,y:t.y})),i=s.x-e.x,r=s.y-e.y,n=Math.atan2(r,i),o=Math.PI/4;return{from:{x:s.x-8*Math.cos(n-o),y:s.y-8*Math.sin(n-o)},midPoints:[s],to:{x:s.x-8*Math.cos(n+o),y:s.y-8*Math.sin(n+o)}}}draw(){const t=this.createArrowParams(this.points);this.arrow.updateParams(t);const e=this.createLineParams(this.points);this.line.updateParams(e),this.arrow.draw(),this.line.draw(),(this.isHover||this.isActive)&&(this.updateInflectionPoints(),this.inflectionPoints.forEach(t=>t.draw()),this.points.forEach(t=>t.draw()))}includes(t,e){return this.line.includes(t,e)}onHover(t){this.isHover=t}applyOrthogonality(){this.points=this.createOrthogonalPoints(),this.inflectionPoints=this.createInflectionPoints()}createOrthogonalPoints(){const t=l.createOrthogonalLine(this.points[0],this.points[this.points.length-1],20);return[this.points[0],...t.slice(1,t.length-1).map(t=>new n.default(this.ctx,t)),this.points[this.points.length-1]]}createInflectionPoints(){const t=[];for(let e=1;e<this.points.length;e++){const s=this.points[e-1],i=this.points[e],r=(s.x+i.x)/2,o=(s.y+i.y)/2;t.push(new n.default(this.ctx,{x:r,y:o}))}return t}updateInflectionPoints(){this.inflectionPoints.length+1===this.points.length&&this.inflectionPoints.forEach((t,e)=>{const s=this.points[e],i=this.points[e+1],r=(s.x+i.x)/2,n=(s.y+i.y)/2,o=r-t.x,a=n-t.y;t.move(o,a)})}getDetectedPoint(t){return this.inflectionPoints.find(e=>e.includes(t))||this.points.find(e=>e.includes(t))}move(t,e){if(!this.isOrthogonal)for(let s=1;s<this.points.length-1;s++)this.points[s].move(t,e)}movePoint(t,e,s){t.move(e,s);const i=this.points.indexOf(t);if(-1===i){const e=this.inflectionPoints.indexOf(t);this.points=[...this.points.slice(0,e+1),t,...this.points.slice(e+1,this.points.length)],this.inflectionPoints.splice(e,1)}else i>=0&&(this.inflectionPoints=[],this.isOrthogonal&&(this.isOrthogonal=!1))}movePointFinished(t){this.filterOverlappedPoint(t),this.inflectionPoints=this.createInflectionPoints()}filterOverlappedPoint(t){const e=this.points.indexOf(t),s=this.points[e-1],i=this.points[e+1];(s&&s.includes({x:t.x,y:t.y})||i&&i.includes({x:t.x,y:t.y}))&&(this.points=this.points.filter((e,s)=>e.id!==t.id))}}e.default=d},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(6)),n=s(14),o=s(7);class a extends r.default{constructor(t,e,s,i){super(t,e),this.params=Object.assign({},i),this.style=s,this.path2d=o.createLinePath2D(this.params)}includes(t,e){let s=!1;const i=[this.params.from,...this.params.midPoints,this.params.to],r=i.length;if(r>1)for(let o=1;o<r;o++){const r=i[o-1],a=i[o];if(n.belongsToLine({x:t,y:e},r,a)){const i={x:.5*(r.x+a.x),y:.5*(r.y+a.y),width:Math.max(Math.abs(r.x-a.x),10),height:Math.max(Math.abs(r.y-a.y),10)};s=n.belongsToRectangle({x:t,y:e},i)}if(s)break}return s}move(t,e){[this.params.from,...this.params.midPoints,this.params.to].forEach(s=>{s.x+=t,s.y+=e}),this.path2d=o.createLinePath2D(this.params)}updateParams(t){this.params=Object.assign(Object.assign({},this.params),t),this.path2d=o.createLinePath2D(this.params)}}e.default=a},function(t,e,s){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(14));function n(t){let e=t[0];return t.filter((t,s,i)=>!(i[s-1]&&i[s+1]&&(t.x===e.x&&t.x===i[s+1].x||t.y===e.y&&t.y===i[s+1].y))&&(e=t))}function o(t,e,s,i=0){const n=r.getAngle(t,e,e,s);let o,a=Object.assign({},t),l=Object.assign({},e);if(n<=90&&n>=0||n<360&&n>=270)return o=r.lineProjectPoint(a,l,s),[a,o,s];{const t=Math.sqrt(Math.pow(l.x-a.x,2)+Math.pow(l.y-a.y,2));return t<i&&(l=r.extendLine(a,l,i-t)),o=n<270&&n>180?r.lineProjectPoint(l,r.rotatePoint(l,a,90),s):r.lineProjectPoint(l,r.rotatePoint(l,a,-90),s),[a,l,o,s]}}e.createOrthogonalLine=function(t,e,s=0){return t.x!==e.x||t.y!==e.y?t.orientation&&!e.orientation?o(t,t.createVector(e),e,s):!t.orientation&&e.orientation?o(e,e.createVector(t),t,s):t.orientation&&e.orientation?function(t,e,s,i){if(r.isConvex(t,s,i,e))return n(o(t,e,i).concat(s));{const a=r.getMidpoint(e,i),l=o(t,e,a),c=o(s,i,a).reverse();return n(l.concat(c))}}(t,t.createVector(e,s),e,e.createVector(t,s)):o(t,t.createVector(e),e):[t,e]}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(2),n=i(s(3)),o=i(s(4)),a=s(35),l=s(1),c=i(s(5)),d=i(s(10));class h extends o.default{constructor(t,e,s){super(t,e,s),this.name=l.UmlNodes.ActivityNode,this.rectangle=new d.default(t,e,a.styles,a.getRectangleParams(s)),this.selection=new d.default(t,e,r.SHAPE_SELECTION_STYLE,a.getSelectionRectangleParams(s)),this.preview=new d.default(t,e,a.previewStyles,a.getPreviewRectangleParams(s)),s.label=this.label,this.textEditor=new c.default(t,e,a.getTextParams(s),a.ACTIVITY_LABEL_STYLE);const[i,o,h,u]=a.getAnchorPoints(s);this.createConnectionPoints([new n.default(this.ctx,o,n.default.Orientation.Right),new n.default(this.ctx,u,n.default.Orientation.Left)])}get label(){return super.label}set label(t){super.label=t,this.textEditor.text=this.label}draw(){this.rectangle.isActive=this.isActive,this.rectangle.isHover=this.isHover,this.rectangle.draw(),this.isActive&&this.selection.draw(),this.isEditing||(this.textEditor.isActive=this.isActive,this.textEditor.draw()),(this.isActive||this.isHover)&&this.drawPoints()}drawPoints(){this.points.forEach(t=>t.draw())}includes(t,e){const s=this.rectangle.includes(t,e),i=!!this.getConnectionPoint({x:t,y:e});return s||i}move(t,e){this.x+=t,this.y+=e,this.rectangle.move(t,e),this.selection.move(t,e),this.textEditor.move(t,e),this.points.forEach(s=>s.move(t,e))}renderHtml(t,e){this.textEditor.renderHtml(t,e,this.id,this.isEditing)}drawPreview(){this.preview.isHover=this.isHover,this.preview.draw()}previewIncludes(t){return this.preview.includes(t.x,t.y)}}e.default=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(2),r=s(0);e.getRectangleParams=function({x:t,y:e}){return{x:t,y:e,width:120,height:60,borderRadius:10}},e.getSelectionRectangleParams=function({x:t,y:e}){return{x:t,y:e,width:120+r.SHAPE_SELECTION_MARGIN,height:60+r.SHAPE_SELECTION_MARGIN,borderRadius:10}},e.getPreviewRectangleParams=function({x:t,y:e}){return{x:t,y:e,width:60,height:40,borderRadius:10}},e.getTextParams=t=>({text:t.label||"",x:t.x,y:t.y,maxWidth:r.SHAPE_LABEL_WIDTH,maxHeight:r.SHAPE_LABEL_HEIGHT}),e.getAnchorPoints=({x:t,y:e})=>[{x:t,y:e-30},{x:t+60,y:e},{x:t,y:e+30},{x:t-60,y:e}],e.styles={background:{color:r.ACTIVITY_BACKGROUND_COLOR},border:{color:r.ACTIVITY_BORDER_COLOR,style:"solid",width:r.SHAPE_BORDER_WIDTH}},e.styles.hover={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:r.ACTIVITY_BORDER_COLOR_HOVER})},e.styles.active={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:r.ACTIVITY_BORDER_COLOR_ACTIVE})},e.previewStyles={background:{color:r.SHAPE_PREVIEW_BACKGROUND_COLOR},border:{color:r.SHAPE_PREVIEW_COLOR,style:"solid",width:r.SHAPE_BORDER_WIDTH}},e.previewStyles.hover={border:Object.assign(Object.assign({},e.previewStyles.border),{color:r.ACTIVITY_BORDER_COLOR_HOVER})},e.ACTIVITY_LABEL_STYLE=Object.assign(Object.assign({},i.SHAPE_LABEL_STYLE),{align:"center",verticalAlign:"middle"})},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(2),n=i(s(3)),o=i(s(4)),a=s(37),l=s(1),c=i(s(5)),d=i(s(38));class h extends o.default{constructor(t,e,s){super(t,e,s),this.name=l.UmlNodes.DecisionNode,this.rhombus=new d.default(t,e,a.styles,a.getRhombusParams(s)),this.selection=new d.default(t,e,r.SHAPE_SELECTION_STYLE,a.getSelectionRhombusParams(s)),this.preview=new d.default(t,e,a.previewStyles,a.getPreviewRhombusParams(s)),this.textEditor=new c.default(t,e,a.getTextParams(s,"Decision"),r.SHAPE_LABEL_STYLE);const[i,o,h,u]=a.getAnchorPoints(s);this.createConnectionPoints([new n.default(this.ctx,i,n.default.Orientation.Top),new n.default(this.ctx,h,n.default.Orientation.Bottom),new n.default(this.ctx,u,n.default.Orientation.Left)])}get label(){return super.label}set label(t){super.label=t,this.textEditor.text=this.label}draw(){this.selection.isActive=this.isActive,this.rhombus.isActive=this.isActive,this.preview.isHover=this.isHover,this.selection.isHover=this.isHover,this.rhombus.isHover=this.isHover,this.rhombus.draw(),this.isActive&&this.selection.draw(),(this.isActive||this.isHover)&&this.drawPoints(),this.isEditing||(this.textEditor.isActive=this.isActive,this.textEditor.draw())}drawPoints(){this.points.forEach(t=>t.draw())}includes(t,e){const s=this.rhombus.includes(t,e),i=!!this.getConnectionPoint({x:t,y:e}),r=this.textEditor.includes(t,e);return s||i||r}move(t,e){this.x+=t,this.y+=e,this.points.forEach(s=>s.move(t,e)),this.rhombus.move(t,e),this.selection.move(t,e),this.textEditor.move(t,e)}renderHtml(t,e){this.textEditor.renderHtml(t,e,this.id,this.isEditing)}drawPreview(){this.preview.isHover=this.isHover,this.preview.draw()}previewIncludes(t){return this.preview.includes(t.x,t.y)}}e.default=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.getRhombusParams=({x:t,y:e})=>({x:t,y:e,width:60,height:60,borderRadius:7}),e.getSelectionRhombusParams=({x:t,y:e})=>({x:t,y:e,width:60+i.SHAPE_SELECTION_MARGIN,height:60+i.SHAPE_SELECTION_MARGIN,borderRadius:7}),e.getPreviewRhombusParams=({x:t,y:e})=>({x:t,y:e,width:40,height:40,borderRadius:7}),e.getTextParams=(t,s)=>{const[r,n,o,a]=e.getAnchorPoints({x:t.x,y:t.y});return{text:t.label||s||"",x:.5*(o.x+n.x),y:o.y,maxWidth:i.SHAPE_LABEL_WIDTH,maxHeight:i.SHAPE_LABEL_HEIGHT}},e.getAnchorPoints=({x:t,y:e})=>[{x:t,y:e-30},{x:t+30,y:e},{x:t,y:e+30},{x:t-30,y:e}],e.styles={background:{color:i.DECISION_BACKGROUND_COLOR},border:{color:i.DECISION_BORDER_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.styles.hover={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:i.DECISION_BORDER_COLOR_HOVER})},e.styles.active={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:i.DECISION_BORDER_COLOR_ACTIVE})},e.previewStyles={background:{color:i.SHAPE_PREVIEW_BACKGROUND_COLOR},border:{color:i.SHAPE_PREVIEW_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.previewStyles.hover={border:Object.assign(Object.assign({},e.previewStyles.border),{color:i.DECISION_BORDER_COLOR_HOVER})}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(6)),n=s(7);class o extends r.default{constructor(t,e,s,i){super(t,e),this.params=Object.assign({},i),this.style=s,this.path2d=n.createRhombusPath2D(this.params)}move(t,e){this.params.x+=t,this.params.y+=e,this.path2d=n.createRhombusPath2D(this.params)}}e.default=o},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(2),n=i(s(3)),o=i(s(4)),a=s(40),l=s(1),c=i(s(5)),d=i(s(15));class h extends o.default{constructor(t,e,s){super(t,e,s),this.name=l.UmlNodes.EndNode,this.circle=new d.default(t,e,a.styles,a.getCircleParams(s)),this.dot=new d.default(t,e,a.dotStyle,a.getDotParams(s)),this.circleSelection=new d.default(t,e,r.SHAPE_SELECTION_STYLE,a.getCircleSelectionParams(s)),this.circlePreview=new d.default(t,e,a.previewStyles,a.getCirclePreviewParams(s)),this.dotPreview=new d.default(t,e,a.dotPreviewStyle,a.getDotPreviewParams(s)),this.textEditor=new c.default(t,e,a.getTextParams(s,"End"),r.SHAPE_LABEL_STYLE);const[i,o,h,u]=a.getAnchorPoints(s);this.createConnectionPoints([new n.default(this.ctx,u,n.default.Orientation.Left)])}get label(){return super.label}set label(t){super.label=t,this.textEditor.text=this.label}draw(){this.circle.isHover=this.isHover,this.circle.isActive=this.isActive,this.textEditor.isActive=this.isActive,this.isActive&&this.circleSelection.draw(),this.circle.draw(),this.dot.draw(),this.isEditing||this.textEditor.draw(),(this.isActive||this.isHover)&&this.drawConnectionPoints()}drawConnectionPoints(){this.points.forEach(t=>t.draw())}includes(t,e){const s=this.circle.includes(t,e),i=this.textEditor.includes(t,e),r=!!this.getConnectionPoint({x:t,y:e});return s||r||i}move(t,e){this.x+=t,this.y+=e,this.points.forEach(s=>s.move(t,e)),this.textEditor.move(t,e),this.circle.move(t,e),this.dot.move(t,e),this.circleSelection.move(t,e)}renderHtml(t,e){this.textEditor.renderHtml(t,e,this.id,this.isEditing)}drawPreview(){this.circlePreview.isHover=this.isHover,this.dotPreview.isHover=this.isHover,this.circlePreview.draw(),this.dotPreview.draw()}previewIncludes(t){return this.circlePreview.includes(t.x,t.y)}}e.default=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.getCircleParams=({x:t,y:e})=>({x:t,y:e,radius:20}),e.getCirclePreviewParams=({x:t,y:e})=>({x:t,y:e,radius:18}),e.getCircleSelectionParams=({x:t,y:e})=>({x:t,y:e,radius:20+i.SHAPE_SELECTION_MARGIN/2}),e.getDotParams=({x:t,y:e})=>({x:t,y:e,radius:12}),e.getDotPreviewParams=({x:t,y:e})=>({x:t,y:e,radius:11}),e.getTextParams=(t,e)=>({text:t.label||e||"",x:t.x+10,y:t.y+30,maxWidth:i.SHAPE_LABEL_WIDTH,maxHeight:i.SHAPE_LABEL_HEIGHT}),e.getAnchorPoints=({x:t,y:e})=>[{x:t,y:e-20},{x:t+20,y:e},{x:t,y:e+20},{x:t-20,y:e}],e.styles={background:{color:i.END_NODE_BACKGROUND_COLOR},border:{color:i.END_NODE_BORDER_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.styles.hover=Object.assign(Object.assign({},e.styles),{border:Object.assign(Object.assign({},e.styles.border),{color:i.END_NODE_BORDER_COLOR_HOVER})}),e.styles.active=Object.assign(Object.assign({},e.styles),{border:Object.assign(Object.assign({},e.styles.border),{color:i.END_NODE_BORDER_COLOR_ACTIVE})}),e.previewStyles={background:{color:i.SHAPE_PREVIEW_BACKGROUND_COLOR},border:{color:i.SHAPE_PREVIEW_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.previewStyles.hover={border:Object.assign(Object.assign({},e.previewStyles.border),{color:i.END_NODE_BORDER_COLOR_HOVER})},e.dotStyle={background:{color:i.END_NODE_BORDER_COLOR}},e.dotPreviewStyle={background:{color:i.SHAPE_PREVIEW_COLOR}},e.dotPreviewStyle.hover={background:{color:i.END_NODE_BORDER_COLOR}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(3)),n=i(s(4)),o=s(20),a=s(1),l=i(s(10));class c extends n.default{constructor(t,e,s,i,n){super(t,e,s),this.name=a.UmlNodes.HorizontalForkJoinNode;const c=n||3,d=i||40,h={x:s.x,y:s.y,width:2*d,height:2*c,borderRadius:o.BORDER_RADIUS},u={x:s.x,y:s.y,width:50,height:2*c,borderRadius:o.BORDER_RADIUS};this.rectangle=new l.default(t,e,o.styles,h),this.rectanglePreview=new l.default(t,e,o.styles,u),this.createConnectionPoints([new r.default(this.ctx,{x:s.x-3*d/4,y:s.y},r.default.Orientation.TopBottom),new r.default(this.ctx,{x:s.x+3*d/4,y:s.y},r.default.Orientation.TopBottom)])}draw(){this.rectangle.isHover=this.isHover,this.rectangle.isActive=this.isActive,this.rectangle.draw(),(this.isActive||this.isHover)&&this.drawPoints()}drawPoints(){this.points.forEach(t=>t.draw())}includes(t,e){const s=this.rectangle.includes(t,e),i=!!this.getConnectionPoint({x:t,y:e});return s||i}move(t,e){this.x+=t,this.y+=e,this.points.forEach(s=>s.move(t,e)),this.rectangle.move(t,e),this.rectanglePreview.move(t,e)}drawPreview(){this.rectanglePreview.draw()}previewIncludes(t){return this.rectanglePreview.includes(t.x,t.y)}}e.default=c},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(2),n=i(s(3)),o=i(s(4)),a=s(43),l=s(1),c=i(s(5)),d=i(s(15));class h extends o.default{constructor(t,e,s){super(t,e,s),this.name=l.UmlNodes.StartNode,this.circle=new d.default(t,e,a.styles,a.getCircleParams(s)),this.circleSelection=new d.default(t,e,r.SHAPE_SELECTION_STYLE,a.getCircleSelectionParams(s)),this.circlePreview=new d.default(t,e,a.previewStyles,a.getCirclePreviewParams(s)),this.textEditor=new c.default(t,e,a.getTextParams(s,"Start"),r.SHAPE_LABEL_STYLE);const[i,o,h,u]=a.getAnchorPoints(s);this.createConnectionPoints([new n.default(this.ctx,o,n.default.Orientation.Right)])}get label(){return super.label}set label(t){super.label=t,this.textEditor.text=this.label}draw(){this.circle.isHover=this.isHover,this.circle.isActive=this.isActive,this.textEditor.isActive=this.isActive,this.isActive&&this.circleSelection.draw(),this.circle.draw(),this.isEditing||this.textEditor.draw(),(this.isActive||this.isHover)&&this.drawConnectionPoints()}drawConnectionPoints(){this.points.forEach(t=>t.draw())}includes(t,e){const s=this.circle.includes(t,e),i=this.textEditor.includes(t,e),r=!!this.getConnectionPoint({x:t,y:e});return s||r||i}move(t,e){this.x+=t,this.y+=e,this.points.forEach(s=>s.move(t,e)),this.textEditor.move(t,e),this.circle.move(t,e),this.circleSelection.move(t,e)}renderHtml(t,e){this.textEditor.renderHtml(t,e,this.id,this.isEditing)}drawPreview(){this.circlePreview.isHover=this.isHover,this.circlePreview.draw()}previewIncludes(t){return this.circlePreview.includes(t.x,t.y)}}e.default=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.getCircleParams=({x:t,y:e})=>({x:t,y:e,radius:20}),e.getCirclePreviewParams=({x:t,y:e})=>({x:t,y:e,radius:18}),e.getCircleSelectionParams=({x:t,y:e})=>({x:t,y:e,radius:20+i.SHAPE_SELECTION_MARGIN/2}),e.getTextParams=(t,e)=>({text:t.label||e||"",x:t.x+10,y:t.y+30,maxWidth:i.SHAPE_LABEL_WIDTH,maxHeight:i.SHAPE_LABEL_HEIGHT}),e.getAnchorPoints=({x:t,y:e})=>[{x:t,y:e-20},{x:t+20,y:e},{x:t,y:e+20},{x:t-20,y:e}],e.styles={background:{color:i.START_NODE_BACKGROUND_COLOR},border:{color:i.START_NODE_BORDER_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.styles.hover=Object.assign(Object.assign({},e.styles),{border:Object.assign(Object.assign({},e.styles.border),{color:i.START_NODE_BORDER_COLOR_HOVER})}),e.styles.active=Object.assign(Object.assign({},e.styles),{border:Object.assign(Object.assign({},e.styles.border),{color:i.START_NODE_BORDER_COLOR_ACTIVE})}),e.previewStyles={background:{color:i.SHAPE_PREVIEW_BACKGROUND_COLOR},border:{color:i.SHAPE_PREVIEW_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.previewStyles.hover={border:Object.assign(Object.assign({},e.previewStyles.border),{color:i.START_NODE_BORDER_COLOR_HOVER})}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(2),n=s(0),o=i(s(4)),a=s(45),l=s(1),c=i(s(5)),d=i(s(10));class h extends o.default{constructor(t,e,s){super(t,e,s),this.name=l.UmlNodes.TextNode,this.textEditor=new c.default(t,e,a.getTextParams(s),r.SHAPE_LABEL_STYLE),this.rectangle=this.createHoverRectangle(),this.rectanglePreview=new d.default(t,e,a.previewStyles,a.getPreviewRectangleParams(s))}get label(){return super.label}set label(t){super.label=t,this.textEditor.text=this.label,this.rectangle=this.createHoverRectangle()}createHoverRectangle(){const t=a.getRectangleParams(this.ctx,r.SHAPE_LABEL_STYLE,this.textEditor.textParams);return new d.default(this.canvas,this.htmlLayer,a.styles,t)}draw(){this.rectangle.isHover=this.isHover,this.rectangle.isActive=this.isActive,this.textEditor.isActive=this.isActive,this.isEditing||(this.textEditor.draw(),this.isActive&&this.rectangle.draw())}includes(t,e){return this.rectangle.includes(t,e)}move(t,e){this.x+=t,this.y+=e,this.rectangle.move(t,e),this.textEditor.move(t,e)}renderHtml(t,e){this.textEditor.renderHtml(t,e,this.id,this.isEditing)}drawPreview(){this.rectanglePreview.draw(),this.ctx.save(),this.ctx.strokeStyle=n.SHAPE_LABEL_COLOR,this.ctx.font="40px Times New Roman",this.ctx.textAlign="left",this.ctx.strokeText("T",this.x-12,this.y+14),this.ctx.restore()}previewIncludes(t){return this.rectanglePreview.includes(t.x,t.y)}}e.default=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),r=s(9);e.getTextParams=t=>({placeholder:t.placeholder,text:t.text,x:t.x,y:t.y}),e.getRectangleParams=function(t,e,s){const n=r.measureText(t,e,s);return{x:n.x+.5*n.width+i.SHAPE_LABEL_PADDING,y:n.y+.5*n.height+i.SHAPE_LABEL_PADDING,width:n.width+2*i.SHAPE_LABEL_PADDING,height:n.height+2*i.SHAPE_LABEL_PADDING,borderRadius:0}},e.getPreviewRectangleParams=function({x:t,y:e}){return{x:t,y:e,width:40,height:40,borderRadius:0}},e.styles={border:{color:i.TEXT_NODE_BORDER_COLOR_ACTIVE,style:"solid",width:2}},e.previewStyles={border:{color:i.SHAPE_PREVIEW_COLOR,style:"dashed",width:2}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(3)),n=i(s(4)),o=s(20),a=s(1),l=i(s(10));class c extends n.default{constructor(t,e,s,i,n){super(t,e,s),this.name=a.UmlNodes.VerticalForkJoinNode;const c=n||40,d=i||3,h={x:s.x,y:s.y,width:2*d,height:2*c,borderRadius:o.BORDER_RADIUS},u={x:s.x,y:s.y,width:2*d,height:50,borderRadius:o.BORDER_RADIUS};this.rectangle=new l.default(t,e,o.styles,h),this.rectanglePreview=new l.default(t,e,o.styles,u),this.createConnectionPoints([new r.default(this.ctx,{x:s.x,y:s.y-3*c/4},r.default.Orientation.LeftRight),new r.default(this.ctx,{x:s.x,y:s.y+3*c/4},r.default.Orientation.LeftRight)])}draw(){this.rectangle.isHover=this.isHover,this.rectangle.isActive=this.isActive,this.rectangle.draw(),(this.isActive||this.isHover)&&this.drawPoints()}drawPoints(){this.points.forEach(t=>t.draw())}includes(t,e){const s=this.rectangle.includes(t,e),i=!!this.getConnectionPoint({x:t,y:e});return s||i}move(t,e){this.x+=t,this.y+=e,this.points.forEach(s=>s.move(t,e)),this.rectangle.move(t,e),this.rectanglePreview.move(t,e)}drawPreview(){this.rectanglePreview.draw()}previewIncludes(t){return this.rectanglePreview.includes(t.x,t.y)}}e.default=c},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(2),n=i(s(3)),o=i(s(4)),a=s(48),l=s(1),c=i(s(5)),d=i(s(49));class h extends o.default{constructor(t,e,s){super(t,e,s),this.name=l.UmlNodes.MachineNode,this.rhombus=new d.default(t,e,a.styles,a.getRhombusParams(s)),this.selection=new d.default(t,e,r.SHAPE_SELECTION_STYLE,a.getSelectionRhombusParams(s)),this.preview=new d.default(t,e,a.previewStyles,a.getPreviewRhombusParams(s)),this.textEditor=new c.default(t,e,a.getTextParams(s,"Machine"),r.SHAPE_LABEL_STYLE);const[i,o,h,u]=a.getAnchorPoints(s);this.createConnectionPoints([new n.default(this.ctx,o,n.default.Orientation.Right),new n.default(this.ctx,u,n.default.Orientation.Left)])}get label(){return super.label}set label(t){super.label=t,this.textEditor.text=this.label}draw(){this.selection.isActive=this.isActive,this.rhombus.isActive=this.isActive,this.preview.isHover=this.isHover,this.selection.isHover=this.isHover,this.rhombus.isHover=this.isHover,this.rhombus.draw(),this.isActive&&this.selection.draw(),(this.isActive||this.isHover)&&this.drawPoints(),this.isEditing||(this.textEditor.isActive=this.isActive,this.textEditor.draw())}drawPoints(){this.points.forEach(t=>t.draw())}includes(t,e){const s=this.rhombus.includes(t,e),i=!!this.getConnectionPoint({x:t,y:e}),r=this.textEditor.includes(t,e);return s||i||r}move(t,e){this.x+=t,this.y+=e,this.points.forEach(s=>s.move(t,e)),this.rhombus.move(t,e),this.selection.move(t,e),this.textEditor.move(t,e)}renderHtml(t,e){this.textEditor.renderHtml(t,e,this.id,this.isEditing)}drawPreview(){this.preview.isHover=this.isHover,this.preview.draw()}previewIncludes(t){return this.preview.includes(t.x,t.y)}}e.default=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.getRhombusParams=({x:t,y:e})=>({x:t,y:e,width:60,height:60,borderRadius:7}),e.getSelectionRhombusParams=({x:t,y:e})=>({x:t,y:e,width:60+i.SHAPE_SELECTION_MARGIN,height:60+i.SHAPE_SELECTION_MARGIN,borderRadius:7}),e.getPreviewRhombusParams=({x:t,y:e})=>({x:t,y:e,width:40,height:40,borderRadius:7}),e.getTextParams=(t,s)=>{const[r,n,o,a]=e.getAnchorPoints({x:t.x,y:t.y});return{text:t.label||s||"",x:.5*(o.x+n.x),y:o.y,maxWidth:i.SHAPE_LABEL_WIDTH,maxHeight:i.SHAPE_LABEL_HEIGHT}},e.getAnchorPoints=({x:t,y:e})=>[{x:t,y:e-30},{x:t+30,y:e},{x:t,y:e+30},{x:t-30,y:e}],e.styles={background:{color:i.MACHINE_BACKGROUND_COLOR},border:{color:i.MACHINE_BORDER_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.styles.hover={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:i.MACHINE_BORDER_COLOR_HOVER})},e.styles.active={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:i.MACHINE_BORDER_COLOR_ACTIVE})},e.previewStyles={background:{color:i.SHAPE_PREVIEW_BACKGROUND_COLOR},border:{color:i.SHAPE_PREVIEW_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.previewStyles.hover={border:Object.assign(Object.assign({},e.previewStyles.border),{color:i.MACHINE_BORDER_COLOR_HOVER})}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(6)),n=s(7);class o extends r.default{constructor(t,e,s,i){super(t,e),this.params=Object.assign({},i),this.style=s,this.path2d=n.createMachinePath2D(this.params)}move(t,e){this.params.x+=t,this.params.y+=e,this.path2d=n.createMachinePath2D(this.params)}}e.default=o},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(2),n=i(s(3)),o=i(s(4)),a=s(51),l=s(1),c=i(s(5)),d=i(s(52));class h extends o.default{constructor(t,e,s){super(t,e,s),this.name=l.UmlNodes.MessageNode,this.messageshape=new d.default(t,e,a.styles,a.getMessageShapeParams(s)),this.selection=new d.default(t,e,r.SHAPE_SELECTION_STYLE,a.getSelectionMessageShapeParams(s)),this.preview=new d.default(t,e,a.previewStyles,a.getPreviewMessageShapeParams(s)),this.textEditor=new c.default(t,e,a.getTextParams(s,"Message"),a.MESSAGE_LABEL_STYLE);const[i,o,h,u]=a.getAnchorPoints(s);this.createConnectionPoints([new n.default(this.ctx,u,n.default.Orientation.Left)])}get label(){return super.label}set label(t){super.label=t,this.textEditor.text=this.label}draw(){this.messageshape.isActive=this.isActive,this.messageshape.isHover=this.isHover,this.messageshape.draw(),this.isActive&&this.selection.draw(),this.isEditing||(this.textEditor.isActive=this.isActive,this.textEditor.draw()),(this.isActive||this.isHover)&&this.drawPoints()}drawPoints(){this.points.forEach(t=>t.draw())}includes(t,e){const s=this.messageshape.includes(t,e),i=!!this.getConnectionPoint({x:t,y:e});return s||i}move(t,e){this.x+=t,this.y+=e,this.messageshape.move(t,e),this.selection.move(t,e),this.textEditor.move(t,e),this.points.forEach(s=>s.move(t,e))}renderHtml(t,e){this.textEditor.renderHtml(t,e,this.id,this.isEditing)}drawPreview(){this.preview.isHover=this.isHover,this.preview.draw()}previewIncludes(t){return this.preview.includes(t.x,t.y)}}e.default=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(2),r=s(0);e.getMessageShapeParams=function({x:t,y:e}){return{x:t,y:e,width:120,height:60,borderRadius:10}},e.getSelectionMessageShapeParams=function({x:t,y:e}){return{x:t,y:e,width:120+r.SHAPE_SELECTION_MARGIN,height:60+r.SHAPE_SELECTION_MARGIN,borderRadius:10}},e.getPreviewMessageShapeParams=function({x:t,y:e}){return{x:t,y:e,width:60,height:40,borderRadius:10}},e.getTextParams=(t,e)=>({text:t.label||e||"",x:t.x,y:t.y,maxWidth:r.SHAPE_LABEL_WIDTH,maxHeight:r.SHAPE_LABEL_HEIGHT}),e.getAnchorPoints=({x:t,y:e})=>[{x:t,y:e-30},{x:t+60,y:e},{x:t,y:e+30},{x:t-60,y:e}],e.styles={background:{color:r.MESSAGE_BACKGROUND_COLOR},border:{color:r.MESSAGE_BORDER_COLOR,style:"solid",width:r.SHAPE_BORDER_WIDTH}},e.styles.hover={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:r.MESSAGE_BORDER_COLOR_HOVER})},e.styles.active={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:r.MESSAGE_BORDER_COLOR_ACTIVE})},e.previewStyles={background:{color:r.SHAPE_PREVIEW_BACKGROUND_COLOR},border:{color:r.SHAPE_PREVIEW_COLOR,style:"solid",width:r.SHAPE_BORDER_WIDTH}},e.previewStyles.hover={border:Object.assign(Object.assign({},e.previewStyles.border),{color:r.MESSAGE_BORDER_COLOR_HOVER})},e.MESSAGE_LABEL_STYLE=Object.assign(Object.assign({},i.SHAPE_LABEL_STYLE),{align:"center",verticalAlign:"middle"})},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(6)),n=s(7);class o extends r.default{constructor(t,e,s,i){super(t,e),this.params=Object.assign({},i),this.style=s,this.path2d=n.createMessagePath2D(this.params)}move(t,e){this.params.x+=t,this.params.y+=e,this.path2d=n.createMessagePath2D(this.params)}}e.default=o},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(2),n=i(s(3)),o=i(s(4)),a=s(54),l=s(1),c=i(s(5)),d=i(s(55));class h extends o.default{constructor(t,e,s){super(t,e,s),this.name=l.UmlNodes.SessionNode,this.rhombus=new d.default(t,e,a.styles,a.getRhombusParams(s)),this.selection=new d.default(t,e,r.SHAPE_SELECTION_STYLE,a.getSelectionRhombusParams(s)),this.preview=new d.default(t,e,a.previewStyles,a.getPreviewRhombusParams(s)),this.textEditor=new c.default(t,e,a.getTextParams(s,"Session"),r.SHAPE_LABEL_STYLE);const[i,o,h,u]=a.getAnchorPoints(s);this.createConnectionPoints([new n.default(this.ctx,o,n.default.Orientation.Right),new n.default(this.ctx,u,n.default.Orientation.Left)])}get label(){return super.label}set label(t){super.label=t,this.textEditor.text=this.label}draw(){this.selection.isActive=this.isActive,this.rhombus.isActive=this.isActive,this.preview.isHover=this.isHover,this.selection.isHover=this.isHover,this.rhombus.isHover=this.isHover,this.rhombus.draw(),this.isActive&&this.selection.draw(),(this.isActive||this.isHover)&&this.drawPoints(),this.isEditing||(this.textEditor.isActive=this.isActive,this.textEditor.draw())}drawPoints(){this.points.forEach(t=>t.draw())}includes(t,e){const s=this.rhombus.includes(t,e),i=!!this.getConnectionPoint({x:t,y:e}),r=this.textEditor.includes(t,e);return s||i||r}move(t,e){this.x+=t,this.y+=e,this.points.forEach(s=>s.move(t,e)),this.rhombus.move(t,e),this.selection.move(t,e),this.textEditor.move(t,e)}renderHtml(t,e){this.textEditor.renderHtml(t,e,this.id,this.isEditing)}drawPreview(){this.preview.isHover=this.isHover,this.preview.draw()}previewIncludes(t){return this.preview.includes(t.x,t.y)}}e.default=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.getRhombusParams=({x:t,y:e})=>({x:t,y:e,width:60,height:60,borderRadius:7}),e.getSelectionRhombusParams=({x:t,y:e})=>({x:t,y:e,width:60+i.SHAPE_SELECTION_MARGIN,height:60+i.SHAPE_SELECTION_MARGIN,borderRadius:7}),e.getPreviewRhombusParams=({x:t,y:e})=>({x:t,y:e,width:40,height:40,borderRadius:7}),e.getTextParams=(t,s)=>{const[r,n,o,a]=e.getAnchorPoints({x:t.x,y:t.y});return{text:t.label||s||"",x:.5*(o.x+n.x),y:o.y,maxWidth:i.SHAPE_LABEL_WIDTH,maxHeight:i.SHAPE_LABEL_HEIGHT}},e.getAnchorPoints=({x:t,y:e})=>[{x:t,y:e-30},{x:t+30,y:e},{x:t,y:e+30},{x:t-30,y:e}],e.styles={background:{color:i.SESSION_BACKGROUND_COLOR},border:{color:i.SESSION_BORDER_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.styles.hover={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:i.SESSION_BORDER_COLOR_HOVER})},e.styles.active={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:i.SESSION_BORDER_COLOR_ACTIVE})},e.previewStyles={background:{color:i.SHAPE_PREVIEW_BACKGROUND_COLOR},border:{color:i.SHAPE_PREVIEW_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.previewStyles.hover={border:Object.assign(Object.assign({},e.previewStyles.border),{color:i.SESSION_BORDER_COLOR_HOVER})}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(6)),n=s(7);class o extends r.default{constructor(t,e,s,i){super(t,e),this.params=Object.assign({},i),this.style=s,this.path2d=n.createSessionPath2D(this.params)}move(t,e){this.params.x+=t,this.params.y+=e,this.path2d=n.createSessionPath2D(this.params)}}e.default=o},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(2),n=i(s(3)),o=i(s(4)),a=s(57),l=s(1),c=i(s(5)),d=i(s(58));class h extends o.default{constructor(t,e,s){super(t,e,s),this.name=l.UmlNodes.RestartNode,this.rhombus=new d.default(t,e,a.styles,a.getRhombusParams(s)),this.selection=new d.default(t,e,r.SHAPE_SELECTION_STYLE,a.getSelectionRhombusParams(s)),this.preview=new d.default(t,e,a.previewStyles,a.getPreviewRhombusParams(s)),this.textEditor=new c.default(t,e,a.getTextParams(s,"Restart"),r.SHAPE_LABEL_STYLE);const[i,o,h,u]=a.getAnchorPoints(s);this.createConnectionPoints([new n.default(this.ctx,o,n.default.Orientation.Right),new n.default(this.ctx,u,n.default.Orientation.Left)])}get label(){return super.label}set label(t){super.label=t,this.textEditor.text=this.label}draw(){this.selection.isActive=this.isActive,this.rhombus.isActive=this.isActive,this.preview.isHover=this.isHover,this.selection.isHover=this.isHover,this.rhombus.isHover=this.isHover,this.rhombus.draw(),this.isActive&&this.selection.draw(),(this.isActive||this.isHover)&&this.drawPoints(),this.isEditing||(this.textEditor.isActive=this.isActive,this.textEditor.draw())}drawPoints(){this.points.forEach(t=>t.draw())}includes(t,e){const s=this.rhombus.includes(t,e),i=!!this.getConnectionPoint({x:t,y:e}),r=this.textEditor.includes(t,e);return s||i||r}move(t,e){this.x+=t,this.y+=e,this.points.forEach(s=>s.move(t,e)),this.rhombus.move(t,e),this.selection.move(t,e),this.textEditor.move(t,e)}renderHtml(t,e){this.textEditor.renderHtml(t,e,this.id,this.isEditing)}drawPreview(){this.preview.isHover=this.isHover,this.preview.draw()}previewIncludes(t){return this.preview.includes(t.x,t.y)}}e.default=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.getRhombusParams=({x:t,y:e})=>({x:t,y:e,width:60,height:60,borderRadius:7}),e.getSelectionRhombusParams=({x:t,y:e})=>({x:t,y:e,width:60+i.SHAPE_SELECTION_MARGIN,height:60+i.SHAPE_SELECTION_MARGIN,borderRadius:7}),e.getPreviewRhombusParams=({x:t,y:e})=>({x:t,y:e,width:40,height:40,borderRadius:7}),e.getTextParams=(t,s)=>{const[r,n,o,a]=e.getAnchorPoints({x:t.x,y:t.y});return{text:t.label||s||"",x:.5*(o.x+n.x),y:o.y,maxWidth:i.SHAPE_LABEL_WIDTH,maxHeight:i.SHAPE_LABEL_HEIGHT}},e.getAnchorPoints=({x:t,y:e})=>[{x:t,y:e-30},{x:t+30,y:e},{x:t,y:e+30},{x:t-30,y:e}],e.styles={background:{color:i.RESTART_BACKGROUND_COLOR},border:{color:i.RESTART_BORDER_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.styles.hover={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:i.RESTART_BORDER_COLOR_HOVER})},e.styles.active={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:i.RESTART_BORDER_COLOR_ACTIVE})},e.previewStyles={background:{color:i.SHAPE_PREVIEW_BACKGROUND_COLOR},border:{color:i.SHAPE_PREVIEW_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.previewStyles.hover={border:Object.assign(Object.assign({},e.previewStyles.border),{color:i.RESTART_BORDER_COLOR_HOVER})}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(6)),n=s(7);class o extends r.default{constructor(t,e,s,i){super(t,e),this.params=Object.assign({},i),this.style=s,this.path2d=n.createPlainCrossRhombusPath2D(this.params)}move(t,e){this.params.x+=t,this.params.y+=e,this.path2d=n.createPlainCrossRhombusPath2D(this.params)}}e.default=o},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(2),n=i(s(3)),o=i(s(4)),a=s(60),l=s(1),c=i(s(5)),d=i(s(61));class h extends o.default{constructor(t,e,s){super(t,e,s),this.name=l.UmlNodes.WaitNode,this.rhombus=new d.default(t,e,a.styles,a.getRhombusParams(s)),this.selection=new d.default(t,e,r.SHAPE_SELECTION_STYLE,a.getSelectionRhombusParams(s)),this.preview=new d.default(t,e,a.previewStyles,a.getPreviewRhombusParams(s)),this.textEditor=new c.default(t,e,a.getTextParams(s,"Wait"),r.SHAPE_LABEL_STYLE);const[i,o,h,u]=a.getAnchorPoints(s);this.createConnectionPoints([new n.default(this.ctx,o,n.default.Orientation.Right),new n.default(this.ctx,u,n.default.Orientation.Left)])}get label(){return super.label}set label(t){super.label=t,this.textEditor.text=this.label}draw(){this.selection.isActive=this.isActive,this.rhombus.isActive=this.isActive,this.preview.isHover=this.isHover,this.selection.isHover=this.isHover,this.rhombus.isHover=this.isHover,this.rhombus.draw(),this.isActive&&this.selection.draw(),(this.isActive||this.isHover)&&this.drawPoints(),this.isEditing||(this.textEditor.isActive=this.isActive,this.textEditor.draw())}drawPoints(){this.points.forEach(t=>t.draw())}includes(t,e){const s=this.rhombus.includes(t,e),i=!!this.getConnectionPoint({x:t,y:e}),r=this.textEditor.includes(t,e);return s||i||r}move(t,e){this.x+=t,this.y+=e,this.points.forEach(s=>s.move(t,e)),this.rhombus.move(t,e),this.selection.move(t,e),this.textEditor.move(t,e)}renderHtml(t,e){this.textEditor.renderHtml(t,e,this.id,this.isEditing)}drawPreview(){this.preview.isHover=this.isHover,this.preview.draw()}previewIncludes(t){return this.preview.includes(t.x,t.y)}}e.default=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.getRhombusParams=({x:t,y:e})=>({x:t,y:e,width:60,height:60,borderRadius:7}),e.getSelectionRhombusParams=({x:t,y:e})=>({x:t,y:e,width:60+i.SHAPE_SELECTION_MARGIN,height:60+i.SHAPE_SELECTION_MARGIN,borderRadius:7}),e.getPreviewRhombusParams=({x:t,y:e})=>({x:t,y:e,width:40,height:40,borderRadius:7}),e.getTextParams=(t,s)=>{const[r,n,o,a]=e.getAnchorPoints({x:t.x,y:t.y});return{text:t.label||s||"",x:.5*(o.x+n.x),y:o.y,maxWidth:i.SHAPE_LABEL_WIDTH,maxHeight:i.SHAPE_LABEL_HEIGHT}},e.getAnchorPoints=({x:t,y:e})=>[{x:t,y:e-30},{x:t+30,y:e},{x:t,y:e+30},{x:t-30,y:e}],e.styles={background:{color:i.MACHINE_BACKGROUND_COLOR},border:{color:i.MACHINE_BORDER_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.styles.hover={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:i.MACHINE_BORDER_COLOR_HOVER})},e.styles.active={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:i.MACHINE_BORDER_COLOR_ACTIVE})},e.previewStyles={background:{color:i.SHAPE_PREVIEW_BACKGROUND_COLOR},border:{color:i.SHAPE_PREVIEW_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.previewStyles.hover={border:Object.assign(Object.assign({},e.previewStyles.border),{color:i.MACHINE_BORDER_COLOR_HOVER})}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(6)),n=s(7);class o extends r.default{constructor(t,e,s,i){super(t,e),this.params=Object.assign({},i),this.style=s,this.path2d=n.createWaitPath2D(this.params)}move(t,e){this.params.x+=t,this.params.y+=e,this.path2d=n.createWaitPath2D(this.params)}}e.default=o},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(2),n=i(s(3)),o=i(s(4)),a=s(63),l=s(1),c=i(s(5)),d=i(s(64));class h extends o.default{constructor(t,e,s){super(t,e,s),this.name=l.UmlNodes.PatchNode,this.rhombus=new d.default(t,e,a.styles,a.getRhombusParams(s)),this.selection=new d.default(t,e,r.SHAPE_SELECTION_STYLE,a.getSelectionRhombusParams(s)),this.preview=new d.default(t,e,a.previewStyles,a.getPreviewRhombusParams(s)),this.textEditor=new c.default(t,e,a.getTextParams(s,"Patch"),r.SHAPE_LABEL_STYLE);const[i,o,h,u]=a.getAnchorPoints(s);this.createConnectionPoints([new n.default(this.ctx,o,n.default.Orientation.Right),new n.default(this.ctx,u,n.default.Orientation.Left)])}get label(){return super.label}set label(t){super.label=t,this.textEditor.text=this.label}draw(){this.selection.isActive=this.isActive,this.rhombus.isActive=this.isActive,this.preview.isHover=this.isHover,this.selection.isHover=this.isHover,this.rhombus.isHover=this.isHover,this.rhombus.draw(),this.isActive&&this.selection.draw(),(this.isActive||this.isHover)&&this.drawPoints(),this.isEditing||(this.textEditor.isActive=this.isActive,this.textEditor.draw())}drawPoints(){this.points.forEach(t=>t.draw())}includes(t,e){const s=this.rhombus.includes(t,e),i=!!this.getConnectionPoint({x:t,y:e}),r=this.textEditor.includes(t,e);return s||i||r}move(t,e){this.x+=t,this.y+=e,this.points.forEach(s=>s.move(t,e)),this.rhombus.move(t,e),this.selection.move(t,e),this.textEditor.move(t,e)}renderHtml(t,e){this.textEditor.renderHtml(t,e,this.id,this.isEditing)}drawPreview(){this.preview.isHover=this.isHover,this.preview.draw()}previewIncludes(t){return this.preview.includes(t.x,t.y)}}e.default=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.getRhombusParams=({x:t,y:e})=>({x:t,y:e,width:60,height:60,borderRadius:7}),e.getSelectionRhombusParams=({x:t,y:e})=>({x:t,y:e,width:60+i.SHAPE_SELECTION_MARGIN,height:60+i.SHAPE_SELECTION_MARGIN,borderRadius:7}),e.getPreviewRhombusParams=({x:t,y:e})=>({x:t,y:e,width:40,height:40,borderRadius:7}),e.getTextParams=(t,s)=>{const[r,n,o,a]=e.getAnchorPoints({x:t.x,y:t.y});return{text:t.label||s||"",x:.5*(o.x+n.x),y:o.y,maxWidth:i.SHAPE_LABEL_WIDTH,maxHeight:i.SHAPE_LABEL_HEIGHT}},e.getAnchorPoints=({x:t,y:e})=>[{x:t,y:e-30},{x:t+30,y:e},{x:t,y:e+30},{x:t-30,y:e}],e.styles={background:{color:i.PATCH_BACKGROUND_COLOR},border:{color:i.PATCH_BORDER_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.styles.hover={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:i.PATCH_BORDER_COLOR_HOVER})},e.styles.active={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:i.PATCH_BORDER_COLOR_ACTIVE})},e.previewStyles={background:{color:i.SHAPE_PREVIEW_BACKGROUND_COLOR},border:{color:i.SHAPE_PREVIEW_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.previewStyles.hover={border:Object.assign(Object.assign({},e.previewStyles.border),{color:i.PATCH_BORDER_COLOR_HOVER})}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(6)),n=s(7);class o extends r.default{constructor(t,e,s,i){super(t,e),this.params=Object.assign({},i),this.style=s,this.path2d=n.createPatchPath2D(this.params)}move(t,e){this.params.x+=t,this.params.y+=e,this.path2d=n.createPatchPath2D(this.params)}}e.default=o},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(2),n=i(s(3)),o=i(s(4)),a=s(66),l=s(1),c=i(s(5)),d=i(s(67));class h extends o.default{constructor(t,e,s){super(t,e,s),this.name=l.UmlNodes.SettingsNode,this.rhombus=new d.default(t,e,a.styles,a.getRhombusParams(s)),this.selection=new d.default(t,e,r.SHAPE_SELECTION_STYLE,a.getSelectionRhombusParams(s)),this.preview=new d.default(t,e,a.previewStyles,a.getPreviewRhombusParams(s)),this.textEditor=new c.default(t,e,a.getTextParams(s),r.SHAPE_LABEL_STYLE);const[i,o,h,u]=a.getAnchorPoints(s);this.createConnectionPoints([new n.default(this.ctx,o,n.default.Orientation.Right),new n.default(this.ctx,u,n.default.Orientation.Left)])}get label(){return super.label}set label(t){super.label=t,this.textEditor.text=this.label}draw(){this.selection.isActive=this.isActive,this.rhombus.isActive=this.isActive,this.preview.isHover=this.isHover,this.selection.isHover=this.isHover,this.rhombus.isHover=this.isHover,this.rhombus.draw(),this.isActive&&this.selection.draw(),(this.isActive||this.isHover)&&this.drawPoints(),this.isEditing||(this.textEditor.isActive=this.isActive,this.textEditor.draw())}drawPoints(){this.points.forEach(t=>t.draw())}includes(t,e){const s=this.rhombus.includes(t,e),i=!!this.getConnectionPoint({x:t,y:e}),r=this.textEditor.includes(t,e);return s||i||r}move(t,e){this.x+=t,this.y+=e,this.points.forEach(s=>s.move(t,e)),this.rhombus.move(t,e),this.selection.move(t,e),this.textEditor.move(t,e)}renderHtml(t,e){this.textEditor.renderHtml(t,e,this.id,this.isEditing)}drawPreview(){this.preview.isHover=this.isHover,this.preview.draw()}previewIncludes(t){return this.preview.includes(t.x,t.y)}}e.default=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.getRhombusParams=({x:t,y:e})=>({x:t,y:e,width:60,height:60,borderRadius:7}),e.getSelectionRhombusParams=({x:t,y:e})=>({x:t,y:e,width:60+i.SHAPE_SELECTION_MARGIN,height:60+i.SHAPE_SELECTION_MARGIN,borderRadius:7}),e.getPreviewRhombusParams=({x:t,y:e})=>({x:t,y:e,width:40,height:40,borderRadius:7}),e.getTextParams=t=>{const[s,r,n,o]=e.getAnchorPoints({x:t.x,y:t.y});return{text:t.label||"",x:.5*(n.x+r.x),y:n.y,maxWidth:i.SHAPE_LABEL_WIDTH,maxHeight:i.SHAPE_LABEL_HEIGHT}},e.getAnchorPoints=({x:t,y:e})=>[{x:t,y:e-30},{x:t+30,y:e},{x:t,y:e+30},{x:t-30,y:e}],e.styles={background:{color:i.SETTINGS_BACKGROUND_COLOR},border:{color:i.SETTINGS_BORDER_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.styles.hover={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:i.SETTINGS_BORDER_COLOR_HOVER})},e.styles.active={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:i.SETTINGS_BORDER_COLOR_ACTIVE})},e.previewStyles={background:{color:i.SHAPE_PREVIEW_BACKGROUND_COLOR},border:{color:i.SHAPE_PREVIEW_COLOR,style:"solid",width:i.SHAPE_BORDER_WIDTH}},e.previewStyles.hover={border:Object.assign(Object.assign({},e.previewStyles.border),{color:i.SETTINGS_BORDER_COLOR_HOVER})}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(6)),n=s(7);class o extends r.default{constructor(t,e,s,i){super(t,e),this.params=Object.assign({},i),this.style=s,this.path2d=n.createSettingsPath2D(this.params)}move(t,e){this.params.x+=t,this.params.y+=e,this.path2d=n.createSettingsPath2D(this.params)}}e.default=o},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(2),n=i(s(3)),o=i(s(4)),a=s(69),l=s(1),c=i(s(5)),d=i(s(10));class h extends o.default{constructor(t,e,s){super(t,e,s),this.name=l.UmlNodes.CopyNode,this.rectangle=new d.default(t,e,a.styles,a.getRectangleParams(s)),this.selection=new d.default(t,e,r.SHAPE_SELECTION_STYLE,a.getSelectionRectangleParams(s)),this.preview=new d.default(t,e,a.previewStyles,a.getPreviewRectangleParams(s)),s.label=this.label,this.textEditor=new c.default(t,e,a.getTextParams(s),a.COPY_LABEL_STYLE);const[i,o,h,u]=a.getAnchorPoints(s);this.createConnectionPoints([new n.default(this.ctx,o,n.default.Orientation.Right),new n.default(this.ctx,u,n.default.Orientation.Left)])}get label(){return super.label}set label(t){super.label=t,this.textEditor.text=this.label}draw(){this.rectangle.isActive=this.isActive,this.rectangle.isHover=this.isHover,this.rectangle.draw(),this.isActive&&this.selection.draw(),this.isEditing||(this.textEditor.isActive=this.isActive,this.textEditor.draw()),(this.isActive||this.isHover)&&this.drawPoints()}drawPoints(){this.points.forEach(t=>t.draw())}includes(t,e){const s=this.rectangle.includes(t,e),i=!!this.getConnectionPoint({x:t,y:e});return s||i}move(t,e){this.x+=t,this.y+=e,this.rectangle.move(t,e),this.selection.move(t,e),this.textEditor.move(t,e),this.points.forEach(s=>s.move(t,e))}renderHtml(t,e){this.textEditor.renderHtml(t,e,this.id,this.isEditing)}drawPreview(){this.preview.isHover=this.isHover,this.preview.draw()}previewIncludes(t){return this.preview.includes(t.x,t.y)}}e.default=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(2),r=s(0);e.getRectangleParams=function({x:t,y:e}){return{x:t,y:e,width:120,height:60,borderRadius:10}},e.getSelectionRectangleParams=function({x:t,y:e}){return{x:t,y:e,width:120+r.SHAPE_SELECTION_MARGIN,height:60+r.SHAPE_SELECTION_MARGIN,borderRadius:10}},e.getPreviewRectangleParams=function({x:t,y:e}){return{x:t,y:e,width:60,height:40,borderRadius:10}},e.getTextParams=t=>({text:t.label||"",x:t.x,y:t.y,maxWidth:r.SHAPE_LABEL_WIDTH,maxHeight:r.SHAPE_LABEL_HEIGHT}),e.getAnchorPoints=({x:t,y:e})=>[{x:t,y:e-30},{x:t+60,y:e},{x:t,y:e+30},{x:t-60,y:e}],e.styles={background:{color:r.COPYSCRIPT_BACKGROUND_COLOR},border:{color:r.COPYSCRIPT_BORDER_COLOR,style:"solid",width:r.SHAPE_BORDER_WIDTH}},e.styles.hover={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:r.COPYSCRIPT_BORDER_COLOR_HOVER})},e.styles.active={background:e.styles.background,border:Object.assign(Object.assign({},e.styles.border),{color:r.COPYSCRIPT_BORDER_COLOR_ACTIVE})},e.previewStyles={background:{color:r.SHAPE_PREVIEW_BACKGROUND_COLOR},border:{color:r.SHAPE_PREVIEW_COLOR,style:"solid",width:r.SHAPE_BORDER_WIDTH}},e.previewStyles.hover={border:Object.assign(Object.assign({},e.previewStyles.border),{color:r.COPYSCRIPT_BORDER_COLOR_HOVER})},e.COPY_LABEL_STYLE=Object.assign(Object.assign({},i.SHAPE_LABEL_STYLE),{align:"center",verticalAlign:"middle"})},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(71)),n=i(s(78)),o=i(s(79)),a=s(1);class l extends o.default{constructor(t){super(),this.scale=1,this.grid={enabled:!0,snap:!0},this.selectedIndicator=null,this.selectedNode=null,this.selectedConnector=null,this.selectedConnectionPoint=null,this.newConnector=null,this.indicators=[],this.links=[],this.nodes=[],this.workflowsettings={},this.dispatch=(t,e=null)=>{this.dispatcher.dispatch(t,e),this.notify(t)},this.undo=()=>{this.history.undo()},this.redo=()=>{this.history.redo()},this.archiveAction=t=>{this.history.execute(t)},this.hasUndo=()=>this.history.canUndo(),this.hasRedo=()=>this.history.canRedo(),this.workflowSettingsKeys=a.WorkflowSettingsKeys,this.initializeWorkflowsettings(),this.dispatcher=new r.default(this),this.history=new n.default,t.viewMode&&(this.grid.enabled=!1)}initializeWorkflowsettings(){let t={};this.workflowSettingsKeys.forEach(e=>{t[e.name]=""}),this.workflowsettings=t}getWorkflowSettings(){return this.workflowsettings}setWorkflowSettings(t){let e={};this.workflowSettingsKeys.forEach(s=>{e[s.name]="",t[s.name]&&(e[s.name]=t[s.name])}),t=e,this.workflowsettings=t}findIndicatorById(t){return this.indicators.find(e=>e.id===t)}findIndicatorByCoordinates(t,e){return this.indicators.find(s=>s.includes(t,e))}addIndicator(t){this.indicators.push(t)}deleteIndicatorById(t){this.indicators=this.indicators.filter(e=>e.id!==t)}moveAllIndicators(t,e){this.indicators.forEach(s=>s.move(t,e))}replaceAllIndicators(t){this.indicators=t}deleteAllIndicators(){this.indicators=[]}findLinkByCoordinates(t,e){return this.links.find(s=>s.includes(t,e))}addLink(t){this.links.push(t)}addLinks(t){this.links.push(...t)}deleteLinkById(t){const e=this.links.find(e=>e.id===t);if(!e)return;const s=e.points[0];s.links=s.links.filter(t=>t!==e);const i=e.points[e.points.length-1];i.links=i.links.filter(t=>t!==e),this.links=this.links.filter(e=>e.id!==t)}findAllLinksByNode(t){const e=[];return t.points.map(t=>{e.push(...t.links)}),e}moveAllLinks(t,e){this.links.forEach(s=>s.move(t,e))}replaceAllLinks(t){this.links=t}deleteAllLinksByNodeId(t){this.links=this.links.filter(e=>e.points.some(e=>!e.owner||e.owner.id!==t))}deleteAllLinks(){this.links=[]}findNodeById(t){return this.nodes.find(e=>e.id===t)}findNodeByCoordinates(t,e){return this.nodes.find(s=>s.includes(t,e))}addNode(t){this.nodes.push(t)}deleteNodeById(t){this.nodes=this.nodes.filter(e=>e.id!==t)}moveAllNodes(t,e){this.nodes.forEach(s=>s.move(t,e))}replaceAllNodes(t){this.nodes=t}deleteAllNodes(){this.nodes=[]}}e.default=l},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(8)),n=i(s(72)),o=i(s(73)),a=i(s(74)),l=i(s(75)),c=i(s(76)),d=i(s(77)),h=s(1);e.default=class{constructor(t){this.dispatch=(t,e=null)=>{this.update(t,e)},this.update=(t,e)=>{switch(t){case r.default.SET_INDICATOR:this.store.selectedIndicator=e;break;case r.default.SET_NODE:case r.default.UPDATE_NODE_PROPERTIES:this.store.selectedNode=e;break;case r.default.SET_INDICATOR_EDIT:{const t=this.store.findIndicatorById(e.id);t&&(t.isEditing=e.isEditing);break}case r.default.SET_NODE_EDIT:{const t=this.store.findNodeById(e.id);t&&(t.isEditing=e.isEditing);break}case r.default.SET_WORKFLOWSETTINGS_EDIT:{let t=this.store.getWorkflowSettings()||{};t=e;break}case r.default.UPDATE_SHAPE_TEXT:{const t=this.store.findIndicatorById(e.id);if(t)t.label=e.text;else{const t=this.store.findNodeById(e.id);t&&(t.label=e.text)}break}case r.default.UPDATE_SHAPE_DATA:{const t=this.store.findIndicatorById(e.id);if(t)t.data=e.data;else{const t=this.store.findNodeById(e.id);if(t)if(e.keypair){let s=t.data[e.propname]||[],i=e.idx.split("~"),r=parseInt(i[i.length-1]);if("string"!=typeof s&&s.length-1>=r){let t=s[r];1==e.key?t.key=e.text:t.value=e.text}else{let s={key:"",value:""};1==e.key?s.key=e.text:s.value=e.text,null!=t.data[e.propname]&&null!=t.data[e.propname]||(t.data[e.propname]=[]),t.data&&"object"==typeof t.data[e.propname]?t.data[e.propname].push(s):t.data[e.propname]=[s]}}else t.data[e.propname]=e.text}break}case r.default.UPDATE_WORKFLOWSETTINGS_DATA:{let t=this.store.getWorkflowSettings();e.propname&&(t[e.propname]=e.text||"")}case r.default.SET_CONNECTOR:this.store.selectedConnector=e;break;case r.default.SET_NEW_CONNECTOR:this.store.newConnector=e;break;case r.default.SET_CONNECTION_POINT:this.store.selectedConnectionPoint=e;break;case r.default.ADD_CONNECTOR:this.createLink(e);break;case r.default.ADD_NODE:this.store.addNode(e),this.store.archiveAction(new a.default(this.store,e));break;case r.default.ADD_INDICATOR:this.store.addIndicator(e),this.store.archiveAction(new n.default(this.store,e));break;case r.default.DELETE_INDICATOR:this.deleteIndicator(e);break;case r.default.DELETE_NODE:this.deleteNode(e);break;case r.default.DELETE_CONNECTOR:this.store.archiveAction(new c.default(this.store,e)),this.deleteLink(e);break;case r.default.CLEAR_DIAGRAM:this.store.deleteAllIndicators(),this.store.deleteAllLinks(),this.store.deleteAllNodes();break;case r.default.IMPORT:this.store.replaceAllIndicators(e.indicators),this.store.replaceAllLinks(e.links),this.store.replaceAllNodes(e.nodes),this.store.setWorkflowSettings(e.workflowsettings),this.store.dispatch(r.default.SET_WORKFLOWSETTINGS_EDIT,e.workflowsettings);break;case r.default.UNDO:this.store.undo();break;case r.default.REDO:this.store.redo();break;case r.default.ESCAPE:this.store.selectedIndicator=null,this.store.selectedNode=null,this.store.newConnector=null,this.store.selectedConnector=null,this.store.nodes.forEach(t=>t.isActive=!1),this.store.links.forEach(t=>t.isActive=!1);break;case r.default.GRID_VIEW:this.store.grid.enabled=e;break;case r.default.GRID_SNAP:this.store.grid.snap=e;break;case r.default.CHANGE_SCALE:{let t=e;t<.1?t=.1:t>10&&(t=10),this.store.scale=+t.toFixed(1);break}}},this.deleteIndicator=t=>{this.store.archiveAction(new l.default(this.store,t)),this.store.deleteIndicatorById(t.id),this.store.selectedNode=null},this.deleteNode=t=>{const e=[];t.points.forEach(t=>{t.links.forEach(t=>{e.push(t),this.deleteLink(t)})}),this.store.selectedNode=null,this.store.deleteNodeById(t.id),this.store.archiveAction(new d.default(this.store,t,e))},this.createLink=t=>{const e=t.points[0],s=t.points[t.points.length-1];e.links.push(t),s.links.push(t),this.store.addLink(t),this.store.archiveAction(new o.default(this.store,t))},this.deleteLink=t=>{this.store.selectedConnector=null,this.store.deleteLinkById(t.id)},this.store=t,this.workflowSettingsKeys=h.WorkflowSettingsKeys}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e){this.redo=()=>{this.store.addIndicator(this.indicator)},this.undo=()=>{this.store.deleteIndicatorById(this.indicator.id)},this.store=t,this.indicator=e}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e){this.redo=()=>{this.store.addLink(this.link)},this.undo=()=>{this.store.deleteLinkById(this.link.id)},this.store=t,this.link=e}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e){this.redo=()=>{this.store.addNode(this.node)},this.undo=()=>{this.store.deleteNodeById(this.node.id)},this.store=t,this.node=e}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e){this.redo=()=>{this.store.deleteIndicatorById(this.indicator.id)},this.undo=()=>{this.store.addIndicator(this.indicator)},this.store=t,this.indicator=e}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e){this.redo=()=>{this.store.deleteLinkById(this.link.id)},this.undo=()=>{this.store.addLink(this.link)},this.store=t,this.link=e}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,s){this.links=[],this.redo=()=>{console.log(this.links),this.links=this.store.findAllLinksByNode(this.node),console.log(this.links),this.store.deleteNodeById(this.node.id)},this.undo=()=>{this.store.addNode(this.node),this.store.addLinks(this.links),this.links=[]},this.store=t,this.node=e,this.links=s}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.redoActions=[],this.undoActions=[],this.canRedo=()=>0!==this.redoActions.length,this.canUndo=()=>0!==this.undoActions.length,this.execute=t=>{this.redoActions=[],this.undoActions.unshift(t),this.undoActions.splice(20)},this.redo=()=>{const t=this.redoActions.shift();t&&(t.redo(),this.undoActions.unshift(t))},this.undo=()=>{const t=this.undoActions.shift();t&&(t.undo(),this.redoActions.unshift(t))}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.observers=new Map}notify(t){const e=this.observers.get(t);e&&e.forEach(e=>e(t))}subscribe(t,e){let s=this.observers.get(t);s||(s=[]),s.push(e),this.observers.set(t,s)}unsubscribe(t,e){let s=this.observers.get(t);s&&(s=s.filter(t=>t!==e),this.observers.set(t,s))}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(0),n=i(s(81)),o=i(s(82)),a=i(s(83)),l=i(s(84)),c=i(s(85)),d=i(s(86)),h=i(s(87)),u=i(s(88)),p=i(s(89));e.default=class{constructor(t,e){this.root=t.shadowRoot||t.attachShadow({mode:"open"}),this.root.innerHTML=`\n<style>\n  ${u.default}\n  ${h.default}\n</style>\n`,this.container=function(t,e){const s=e.viewMode,i=n.default.replace("{workspace}",d.default).replace("{bottomToolbar}",o.default).replace("{topToolbar}",s?"":c.default).replace("{messagebar}",s?"":p.default).replace("{library}",s?"":a.default).replace("{propertiesPanel}",s?"":l.default),r=document.createElement("div");r.innerHTML=i;const h=t.appendChild(r.firstChild);return h.style.width="100%",h.style.height="100vh",h.style.maxHeight="100%",h.style.minHeight="100%",h}(this.root,e),this.workspace=this.container.querySelector(".fl-workspace"),this.workspaceContainer=function(t){const e=t.clientWidth,s=t.clientHeight,i=r.GRID_STEP*r.GRID_MAIN_LINE_STEP,n=Math.trunc(e/i)*i,o=Math.trunc(s/i)*i,a=t.querySelector(".fl-canvas-container");return a.style.left=(t.clientWidth-n)/2+"px",a.style.top=(t.clientHeight-o)/2+"px",a}(this.workspace),this.workspaceCanvas=function(t){const e=t.clientWidth,s=t.clientHeight,i=r.GRID_STEP*r.GRID_MAIN_LINE_STEP,n=Math.trunc(e/i)*i,o=Math.trunc(s/i)*i,a=t.querySelector("canvas");return a.width=n,a.height=o,a}(this.workspace),this.workspaceHtmlLayer=this.workspaceContainer.querySelector("div"),this.bottomToolbar=this.container.querySelector(".fl-bottom-toolbar"),e.viewMode||(this.library=this.container.querySelector(".fl-library"),this.topToolbar=this.container.querySelector(".fl-top-toolbar"),this.propertiesPanel=this.container.querySelector(".fl-properties-panel"))}}},function(t,e){t.exports="<div class=fl> {topToolbar} <div class=fl-main-area> {library} {workspace} </div> {propertiesPanel} {bottomToolbar} </div> "},function(t,e){t.exports='<div class=fl-bottom-toolbar> <div class=fl-controller-group> <div class=fl-controller-item> <button type=button name=fl_btn_center_workspace class=fl-btn-icon title="Center workspace"> <svg width=20 height=20 viewBox="0 0 20 20" fill=none xmlns=http://www.w3.org/2000/svg> <path d="M1.57068 1.47068H1.47068V1.57068V6.91099C1.47068 7.30079 1.17514 7.59633 0.78534 7.59633C0.395543 7.59633 0.1 7.30079 0.1 6.91099V0.78534C0.1 0.395542 0.395543 0.1 0.78534 0.1H6.93717C7.32697 0.1 7.62251 0.395542 7.62251 0.78534C7.62251 1.17514 7.32697 1.47068 6.93717 1.47068H1.57068Z" fill=#FFFFFF stroke=white stroke-width=0.2 /> <path d="M1.47068 18.4032V18.5032H1.57068H6.911C7.30079 18.5032 7.59634 18.7988 7.59634 19.1886C7.59634 19.5784 7.30079 19.8739 6.911 19.8739H0.78534C0.395543 19.8739 0.1 19.5784 0.1 19.1886V13.0629C0.1 12.6731 0.395543 12.3776 0.78534 12.3776C1.17514 12.3776 1.47068 12.6731 1.47068 13.0629V18.4032Z" fill=#FFFFFF stroke=white stroke-width=0.2 /> <path d="M18.5294 1.57068V1.47068H18.4294H13.0629C12.6731 1.47068 12.3776 1.17514 12.3776 0.78534C12.3776 0.395542 12.6731 0.1 13.0629 0.1H19.2148C19.6045 0.1 19.9001 0.395542 19.9001 0.78534V6.93717C19.9001 7.32697 19.6045 7.62251 19.2148 7.62251C18.825 7.62251 18.5294 7.32697 18.5294 6.93717V1.57068Z" fill=#FFFFFF stroke=white stroke-width=0.2 /> <path d="M18.4032 18.5294H18.5032V18.4294V13.0629C18.5032 12.6731 18.7988 12.3776 19.1886 12.3776C19.5784 12.3776 19.8739 12.6731 19.8739 13.0629V19.2148C19.8739 19.6045 19.5784 19.9001 19.1886 19.9001H13.0629C12.6731 19.9001 12.3776 19.6045 12.3776 19.2148C12.3776 18.825 12.6731 18.5294 13.0629 18.5294H18.4032Z" fill=#FFFFFF stroke=white stroke-width=0.2 /> <circle cx=10 cy=10 r=2.5 stroke=#FFFFFF /> </svg> </button> </div> <div class=fl-controller-item> <span class=fl-scale> <button type=button name=fl_btn_decrease_scale class=fl-btn-icon> <svg width=13 height=1 viewBox="0 0 13 1" fill=none xmlns=http://www.w3.org/2000/svg> <path d="M0.499894 1H12.5C12.7761 1 13 0.776182 13 0.499966C13 0.223818 12.7762 0 12.5 0H0.499894C0.223817 6.84041e-05 0 0.223887 0 0.500034C0 0.776182 0.223817 1 0.499894 1Z" fill=#FFFFFF /> </svg> </button> <span class=fl-scale-value>100%</span> <button type=button name=fl_btn_increase_scale class=fl-btn-icon> <svg width=13 height=13 viewBox="0 0 13 13" fill=#FFFFFF xmlns=http://www.w3.org/2000/svg> <path d="M0.499894 7H12.5C12.7761 7 13 6.77618 13 6.49997C13 6.22382 12.7762 6 12.5 6H0.499894C0.223817 6.00007 0 6.22389 0 6.50003C0 6.77618 0.223817 7 0.499894 7Z" fill=#FFFFFF /> <path d="M7 12.5001L7 0.5C7 0.223855 6.77618 3.8147e-05 6.49997 3.8147e-05C6.22382 3.8147e-05 6 0.223786 6 0.5L6 12.5001C6.00007 12.7762 6.22389 13 6.50003 13C6.77618 13 7 12.7762 7 12.5001Z" fill=#FFFFFF /> </svg> </button> </span> </div> </div> </div> '},function(t,e){t.exports='<div class="fl-library fl-panel active"> <div class=fl-panel-controls> <span class="fl-panel-control fl-panel-toggler"> <svg class=icon-arrows width=10 height=10 viewBox="0 0 10 10" fill=none xmlns=http://www.w3.org/2000/svg> <path d="M1.68056 4.99991L5.46281 1.19548C5.73461 0.921955 5.73461 0.478552 5.46281 0.205141C5.19101 -0.0683805 4.75024 -0.0683805 4.47832 0.205141L0.203775 4.50492C0.067874 4.64169 0 4.82075 0 4.99991C0 5.17913 0.0680056 5.35832 0.203775 5.49503L4.47832 9.79476C4.75024 10.0684 5.19103 10.0684 5.46281 9.79476C5.73461 9.52135 5.73461 9.0779 5.46281 8.80451L1.68056 4.99991ZM9.79615 8.80451C10.068 9.07792 10.068 9.52137 9.79615 9.79476C9.52434 10.0684 9.0837 10.0684 8.81164 9.79476L4.53709 5.49505C4.40119 5.35835 4.33342 5.17915 4.33342 4.99993C4.33342 4.82077 4.40132 4.64158 4.53709 4.50494L8.81164 0.205141C9.08368 -0.0683805 9.52434 -0.0683805 9.79615 0.205141C10.068 0.478552 10.068 0.921933 9.79615 1.19548L6.01381 4.99991L9.79615 8.80451Z" fill=#373859 /> </svg> <svg class=icon-sign width=19 height=17 viewBox="0 0 19 17" fill=none xmlns=http://www.w3.org/2000/svg> <rect x=4.12305 y=0.5 width=9.76442 height=9.76916 rx=0.5 fill=white stroke=#373859 /> <path d="M18.4998 10.7692C18.4998 13.4671 16.3137 15.6537 13.6176 15.6537C10.9214 15.6537 8.73535 13.4671 8.73535 10.7692C8.73535 8.07128 10.9214 5.88458 13.6176 5.88458C16.3137 5.88458 18.4998 8.07128 18.4998 10.7692Z" fill=white stroke=#373859 /> <rect x=0.706951 width=8.29914 height=8.29914 rx=0.5 transform="matrix(0.706951 -0.707262 0.706951 0.707262 0.207171 10.9231)" fill=white stroke=#373859 /> </svg> </span> </div> </div> '},function(t,e){t.exports='<div class="fl-properties-panel fl-panel"> <div class=fl-panel-controls> <span id=propertiy_tabclick class="fl-panel-control fl-panel-close hide" style=font-size:14px;background:#fb7c7c;color:#fff> X </span> <span id=fl-panel-toggler id=propertiy_tabclick class="fl-panel-control fl-panel-toggler"> <svg class=icon-arrows width=10 height=10 viewBox="0 0 10 10" fill=none xmlns=http://www.w3.org/2000/svg> <path d="M8.31944 4.99991L4.53719 1.19548C4.26539 0.921955 4.26539 0.478552 4.53719 0.205141C4.80899 -0.0683805 5.24976 -0.0683805 5.52168 0.205141L9.79622 4.50492C9.93213 4.64169 10 4.82075 10 4.99991C10 5.17913 9.93199 5.35832 9.79622 5.49503L5.52168 9.79476C5.24976 10.0684 4.80897 10.0684 4.53719 9.79476C4.26539 9.52135 4.26539 9.0779 4.53719 8.80451L8.31944 4.99991ZM0.203852 8.80451C-0.0679507 9.07792 -0.0679507 9.52137 0.203852 9.79476C0.475655 10.0684 0.916295 10.0684 1.18836 9.79476L5.46291 5.49505C5.59881 5.35835 5.66658 5.17915 5.66658 4.99993C5.66658 4.82077 5.59868 4.64158 5.46291 4.50494L1.18836 0.205141C0.916317 -0.0683805 0.475655 -0.0683805 0.203852 0.205141C-0.0679507 0.478552 -0.0679507 0.921933 0.203852 1.19548L3.98619 4.99991L0.203852 8.80451Z" fill=#373859 /> </svg> <svg class=icon-sign width=16 height=16 viewBox="0 0 16 16" fill=none xmlns=http://www.w3.org/2000/svg> <path d="M0.679322 3.13193H1.45336C1.7473 4.15954 2.6879 4.90243 3.83752 4.90243C4.98714 4.90243 5.95387 4.15954 6.23474 3.13193H15.288C15.6603 3.13193 16 2.8243 16 2.45122C16 2.07814 15.693 1.77051 15.3207 1.77051H6.22494C5.93101 0.742892 4.99041 0 3.84078 0C2.71729 0 1.75709 0.742892 1.45662 1.77051H0.679322C0.307001 1.77051 0 2.07814 0 2.45122C0 2.8243 0.307001 3.13193 0.679322 3.13193ZM3.84078 1.3287C4.48745 1.3287 5.0296 1.83923 4.99694 2.45122C4.99694 3.0632 4.48745 3.57374 3.84078 3.57374C3.19412 3.57374 2.68463 3.0632 2.68463 2.45122C2.68463 1.83923 3.19412 1.3287 3.84078 1.3287Z" fill=#373859 /> <path d="M0.679322 8.68237H9.74566C10.0396 9.70999 10.9802 10.4529 12.1298 10.4529C13.2533 10.4529 14.2135 9.70999 14.514 8.68237H15.2913C15.6636 8.68237 15.9706 8.37474 15.9706 8.00166C15.9706 7.62858 15.6636 7.32095 15.2913 7.32095H14.5172C14.2233 6.29334 13.2827 5.55045 12.1331 5.55045C11.0096 5.55045 10.0494 6.29334 9.74893 7.32095H0.679322C0.307001 7.32095 0 7.62858 0 8.00166C0 8.37474 0.307001 8.68237 0.679322 8.68237ZM12.1298 6.87914C12.7765 6.87914 13.286 7.38968 13.286 8.00166C13.286 8.61365 12.7765 9.12418 12.1298 9.12418C11.4832 9.12418 10.9737 8.61365 10.9737 8.00166C10.9737 7.38968 11.4832 6.87914 12.1298 6.87914Z" fill=#373859 /> <path d="M15.3239 12.8353H6.21515C5.91141 11.8274 4.97734 11.0976 3.84078 11.0976C2.73035 11.0976 1.77996 11.8241 1.46642 12.8353H0.679322C0.307001 12.8353 0 13.143 0 13.5161C0 13.8891 0.307001 14.1968 0.679322 14.1968H1.44356C1.72443 15.2407 2.67483 16 3.83752 16C5.0002 16 5.9506 15.2407 6.23148 14.1968H15.288C15.6603 14.1968 16 13.8891 16 13.5161C16 13.143 15.6963 12.8353 15.3239 12.8353ZM3.84078 14.6746C3.19412 14.6746 2.68463 14.164 2.68463 13.5521C2.68463 12.9401 3.19412 12.4295 3.84078 12.4295C4.48745 12.4295 4.99694 12.9401 4.99694 13.5521C4.99367 14.164 4.48418 14.6746 3.84078 14.6746Z" fill=#373859 /> </svg> </span> <span id=fl-settingspanel-toggler class="fl-panel-control fl-settingspanel-toggler"> <span> <img width=16 height=16 src=https://image.flaticon.com/icons/svg/503/503819.svg class=loaded> </span> </span> </div> <div class=tab> <button class=tablinks id=propertiestab_link>Properties</button> <button class=tablinks id=settingstab_link>Orchestration Details</button> </div> <div class=tabcontent id=propertiestab> <div class=fl-panel-items></div> </div> <div class=tabcontent id=settingstab style=max-height:100%;overflow:auto> </div> </div> '},function(t,e){t.exports='<div class=fl-top-toolbar> <div class=fl-controller-group> <div class=fl-controller-item> <button type=button name=fl_undo_button class="fl-btn-icon fl-btn-disabled" title=Undo> <svg width=24 height=24 viewBox="0 0 24 24" fill=none xmlns=http://www.w3.org/2000/svg> <circle cx=12 cy=12 r=11.5 stroke=#FFFFFF /> <path d="M14.7363 9.53544H8.44838L10.0802 7.67902C10.2449 7.49938 10.2299 7.21491 10.0353 7.05023C9.85569 6.88554 9.57122 6.90053 9.40654 7.09513L7.11595 9.68514C7.11595 9.7001 7.101 9.7001 7.101 9.71508C7.08604 9.73004 7.08604 9.73004 7.07105 9.74503C7.05609 9.75999 7.05609 9.77497 7.05609 9.78993C7.05609 9.80489 7.04114 9.80489 7.04114 9.81988C7.04114 9.83484 7.02618 9.84982 7.02618 9.86478C7.02618 9.87974 7.02618 9.87974 7.01122 9.89473C6.99626 9.95462 6.99626 10.0145 7.01122 10.0594C7.01122 10.0744 7.01122 10.0744 7.02618 10.0894C7.02618 10.1043 7.04114 10.1193 7.04114 10.1343C7.04114 10.1492 7.05609 10.1492 7.05609 10.1642C7.05609 10.1792 7.07105 10.1941 7.07105 10.2091C7.07105 10.2241 7.08601 10.2241 7.101 10.2391C7.101 10.254 7.11595 10.254 7.11595 10.269L9.39155 12.874C9.48139 12.9788 9.60114 13.0237 9.73588 13.0237C9.84067 13.0237 9.94547 12.9937 10.0353 12.9189C10.2149 12.7542 10.2449 12.4698 10.0802 12.2901L8.44835 10.4337H14.7362C16.0387 10.4337 17.1017 11.4966 17.1017 12.7991C17.1017 14.1016 16.0387 15.1645 14.7362 15.1645H8.05913C7.80461 15.1645 7.61001 15.3592 7.61001 15.6137C7.61001 15.8682 7.80464 16.0628 8.05913 16.0628H14.7362C16.5328 16.0628 17.9999 14.5956 17.9999 12.7991C17.9999 11.0026 16.5328 9.53544 14.7363 9.53544Z" fill=#373859 /> </svg> </button> <button type=button name=fl_redo_button class="fl-btn-icon fl-btn-disabled" title=Redo> <svg width=24 height=24 viewBox="0 0 24 24" fill=none xmlns=http://www.w3.org/2000/svg> <circle r=11.5 transform="matrix(-1 0 0 1 12 12)" stroke=#FFFFFF /> <path d="M9.26362 9.53544H15.5515L13.9196 7.67902C13.755 7.49938 13.7699 7.21491 13.9645 7.05023C14.1442 6.88554 14.4287 6.90053 14.5933 7.09513L16.8839 9.68514C16.8839 9.7001 16.8989 9.7001 16.8989 9.71508C16.9138 9.73004 16.9138 9.73004 16.9288 9.74503C16.9438 9.75999 16.9438 9.77497 16.9438 9.78993C16.9438 9.80489 16.9587 9.80489 16.9587 9.81988C16.9587 9.83484 16.9737 9.84982 16.9737 9.86478C16.9737 9.87974 16.9737 9.87974 16.9887 9.89473C17.0036 9.95462 17.0036 10.0145 16.9887 10.0594C16.9887 10.0744 16.9887 10.0744 16.9737 10.0894C16.9737 10.1043 16.9587 10.1193 16.9587 10.1343C16.9587 10.1492 16.9438 10.1492 16.9438 10.1642C16.9438 10.1792 16.9288 10.1941 16.9288 10.2091C16.9288 10.2241 16.9139 10.2241 16.8989 10.2391C16.8989 10.254 16.8839 10.254 16.8839 10.269L14.6083 12.874C14.5185 12.9788 14.3987 13.0237 14.264 13.0237C14.1592 13.0237 14.0544 12.9937 13.9646 12.9189C13.7849 12.7542 13.755 12.4698 13.9197 12.2901L15.5515 10.4337H9.26365C7.96117 10.4337 6.89822 11.4966 6.89822 12.7991C6.89822 14.1016 7.96117 15.1645 9.26365 15.1645H15.9408C16.1953 15.1645 16.3899 15.3592 16.3899 15.6137C16.3899 15.8682 16.1952 16.0628 15.9408 16.0628H9.26365C7.46712 16.0628 5.99995 14.5956 5.99995 12.7991C5.99995 11.0026 7.46712 9.53544 9.26362 9.53544Z" fill=#373859 /> </svg> </button> </div> <div class=fl-controller-item> <button type=button name=fl_auto_layout class=fl-btn-icon title=Autolayout> <svg xmlns=http://www.w3.org/2000/svg version=1.1 x=0 y=0 width=22 height=22 viewBox="0 0 22 22" xml:space=preserve> <g fill=#FFFFFF stroke=#FFFFFF stroke-width=.099548> <path d="M9.8.5C9.8.3 9.6 0 9.3 0H.5C.3 0 0 .3 0 .5v8.8c0 .3.2.5.5.5h8.8c.3 0 .5-.2.5-.5V.5zM8.9 8.9H1V1h7.8V8.9zM21.9.5c0-.3-.2-.5-.5-.5h-8.8c-.3 0-.5.2-.5.5v8.8c0 .3.2.5.5.5h8.8c.3 0 .5-.2.5-.5V.5zM21 8.9h-7.8V1H21V8.9zM9.8 12.7c0-.3-.2-.5-.5-.5H.5c-.3 0-.5.2-.5.5v8.8C0 21.7.3 22 .5 22h8.8c.3 0 .5-.2.5-.5V12.7zM8.9 20.9H1v-7.8h7.8V20.9zM21.9 12.7c0-.3-.2-.5-.5-.5h-8.8c-.3 0-.5.2-.5.5v8.8c0 .3.2.5.5.5h8.8c.3 0 .5-.2.5-.5V12.7zM21 20.9h-7.8v-7.8H21V20.9z"/> </g> </svg> </button> </div> <div class=fl-controller-item> <label class=fl-checkbox> <input name=fl_show_grid type=checkbox checked=checked> <span class=fl-checkbox-icon>Show Grid</span> </label> </div> <div class=fl-controller-item> <label class=fl-checkbox> <input name=fl_snap_to_grid type=checkbox checked=checked> <span class=fl-checkbox-icon>Snap to Grid</span> </label> </div> </div> <div id=message_bar class="message_bar hide"> <div id=message_close class=message_closebtn> X </div> <div id=message_content class=message_content></div> </div> <div class=fl-controller-group> <div class=fl-dropdown style=visibility:hidden> <button type=button class=fl-btn>Export</button> <div class=fl-dropdown-content> <a role=button name=fl_export_png class=fl-dropdown-option download=my-diagram.png>Export as PNG</a> </div> </div> <div class=fl-dropdown> <button type=button class=fl-btn>Import</button> <div class=fl-dropdown-content> <a role=button name=fl_import_json class=fl-dropdown-option>Import JSON</a> </div> </div> <div class=fl-dropdown> <button type=button class=fl-btn>Export</button> <div class=fl-dropdown-content> <a role=button name=fl_export_json class=fl-dropdown-option>Export JSON</a> </div> </div> </div> </div>'},function(t,e){t.exports="<div class=fl-workspace> <div class=fl-canvas-container> <canvas></canvas> <div></div> </div> </div> "},function(t,e,s){"use strict";s.r(e),e.default=".fl {\r\n  font-family: 'Open Sans', sans-serif;\r\n  font-size  : 12px;\r\n  line-height: 1.33;\r\n\r\n  color           : #3a3a3a;\r\n  background-color: white;\r\n\r\n  position      : relative;\r\n  display       : flex;\r\n  flex-direction: column;\r\n  border        : 1px solid #373859;\r\n  overflow      : hidden;\r\n}\r\n\r\n.fl * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n/*\r\n * SCROLLBAR\r\n */\r\n.fl ::-webkit-scrollbar {\r\n  width : 10px;\r\n  height: 10px;\r\n}\r\n\r\n.fl ::-webkit-scrollbar-track {\r\n  background: #ccc;\r\n}\r\n\r\n.fl ::-webkit-scrollbar-thumb {\r\n  background   : #999;\r\n  border-radius: 5px;\r\n}\r\n\r\n/*\r\n * CHECKBOX\r\n */\r\n.fl-checkbox {\r\n  position      : relative;\r\n  display       : inline-block;\r\n  vertical-align: middle;\r\n}\r\n\r\n.fl-checkbox input {\r\n  display: none;\r\n}\r\n\r\n.fl-checkbox .fl-checkbox-icon {\r\n  position    : relative;\r\n  display     : inline-block;\r\n  padding-left: 26px;\r\n  font-size   : 12px;\r\n  line-height : 1.33;\r\n}\r\n\r\n.fl-checkbox .fl-checkbox-icon:before {\r\n  content            : '';\r\n  display            : block;\r\n  position           : absolute;\r\n  top                : -2px;\r\n  left               : 0;\r\n  z-index            : 1;\r\n  width              : 16px;\r\n  height             : 16px;\r\n  background-color   : white;\r\n  background-repeat  : no-repeat;\r\n  background-position: center;\r\n  background-size    : 11px;\r\n  border             : 1px solid #bdbdbd;\r\n  transition         : border-color 0.2s ease;\r\n}\r\n\r\n.fl-checkbox .fl-checkbox-icon:hover:before {\r\n  border-color: #888;\r\n}\r\n\r\n.fl-checkbox input:checked+.fl-checkbox-icon:before {\r\n  background-image: url(\"data:image/svg+xml,%3Csvg width='10' height='8' viewBox='0 0 10 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.85355 0.146455C9.6583 -0.0488183 9.34174 -0.0488183 9.14644 0.146455L3.15614 6.13682L0.853563 3.83424C0.65831 3.63897 0.341748 3.63899 0.146455 3.83424C-0.0488183 4.0295 -0.0488183 4.34606 0.146455 4.54133L2.80258 7.19742C2.99778 7.39268 3.31458 7.39254 3.50969 7.19742L9.85355 0.853563C10.0488 0.65831 10.0488 0.341728 9.85355 0.146455Z' fill='%23373859'/%3E%3C/svg%3E\");\r\n}\r\n\r\n/*\r\n * BUTTONS\r\n */\r\n.fl [role='button'] {\r\n  cursor: pointer;\r\n}\r\n\r\n.fl button {\r\n  cursor: pointer;\r\n}\r\n\r\n.fl button:focus {\r\n  outline: none;\r\n}\r\n\r\n.fl-btn {\r\n  display         : inline-block;\r\n  padding         : 5px 13px;\r\n  font-size       : 12px;\r\n  line-height     : 1.25;\r\n  font-weight     : 600;\r\n  font-family     : inherit;\r\n  background-color: white;\r\n  color           : #373859;\r\n  border          : 1px solid #373859;\r\n  border-radius   : 3px;\r\n  vertical-align  : middle;\r\n  transition      : all 0.2s ease;\r\n}\r\n\r\n.fl-btn-disabled {\r\n  color : #bdbdbd;\r\n  border: 1px solid #bdbdbd;\r\n  cursor: default !important;\r\n}\r\n\r\n.fl-btn:not(.fl-btn-disabled):hover {\r\n  color           : white;\r\n  background-color: #373859;\r\n}\r\n\r\n.fl-btn-icon {\r\n  display         : inline-block;\r\n  padding         : 0;\r\n  border          : none;\r\n  background-color: transparent;\r\n  cursor          : pointer;\r\n  vertical-align  : middle;\r\n}\r\n\r\n.fl-btn-icon svg {\r\n  display: block;\r\n}\r\n\r\n.fl-btn-icon.fl-btn-disabled {\r\n  opacity: 0.5;\r\n}\r\n\r\n/*\r\n * DROPDOWN\r\n */\r\n.fl-dropdown {\r\n  position: relative;\r\n  display : inline-block;\r\n}\r\n\r\n.fl-dropdown-content {\r\n  visibility      : hidden;\r\n  display         : block;\r\n  position        : absolute;\r\n  z-index         : 1;\r\n  top             : 100%;\r\n  left            : 0;\r\n  margin          : 6px 0 0;\r\n  padding         : 4px 0;\r\n  background-color: #fff;\r\n  box-shadow      : 0px 0px 6px rgba(0, 0, 0, 0.25);\r\n  border-radius   : 3px;\r\n  transform       : translateY(-5px);\r\n  transition      : transform 0.2s ease;\r\n}\r\n\r\n.fl-dropdown.fl-to-right .fl-dropdown-content {\r\n  left : auto;\r\n  right: 0;\r\n}\r\n\r\n.fl-dropdown:hover .fl-dropdown-content {\r\n  visibility: visible;\r\n  transform : translateY(0);\r\n}\r\n\r\n.fl-dropdown:hover>.fl-btn {\r\n  color           : white;\r\n  background-color: #373859;\r\n}\r\n\r\n.fl-dropdown-content:before {\r\n  content         : '';\r\n  display         : block;\r\n  background-color: transparent;\r\n  position        : absolute;\r\n  z-index         : 1;\r\n  top             : -6px;\r\n  left            : 0;\r\n  width           : 100%;\r\n  height          : 6px;\r\n}\r\n\r\n.fl-dropdown-option {\r\n  display        : block;\r\n  padding        : 6px 12px;\r\n  color          : black;\r\n  text-decoration: none;\r\n  white-space    : nowrap;\r\n  transition     : background-color 0.2s ease;\r\n}\r\n\r\n.fl-dropdown-option:hover {\r\n  background-color: #efefef;\r\n}\r\n\r\n/*\r\n * CONTROLLER-GROUP (top/bottom panels)\r\n */\r\n.fl-controller-group {\r\n  display    : flex;\r\n  align-items: center;\r\n  flex-wrap  : wrap;\r\n}\r\n\r\n.fl-controller-item {\r\n  display     : flex;\r\n  align-items : center;\r\n  margin-right: 40px;\r\n}\r\n\r\n.fl-controller-item:last-child {\r\n  margin-right: 0;\r\n}\r\n\r\n.fl-controller-item .fl-btn-icon {\r\n  margin-right: 15px;\r\n}\r\n\r\n.fl-controller-item .fl-btn-icon:last-child {\r\n  margin-right: 0;\r\n}\r\n\r\n.fl-controller-group .fl-dropdown {\r\n  margin-right: 15px;\r\n}\r\n\r\n.fl-controller-group .fl-dropdown:last-child {\r\n  margin-right: 0;\r\n}\r\n\r\n\r\n/*\r\n * PANEL (left/right panels)\r\n */\r\n.fl-panel-controls {\r\n  position        : absolute;\r\n  z-index         : 1;\r\n  top             : 5px;\r\n  left            : 100%;\r\n  display         : flex;\r\n  margin-left     : 29px;\r\n  transform       : rotate(90deg) translate3d(0, 0, 0);\r\n  transform-origin: 0 0;\r\n}\r\n\r\n.fl-panel-control {\r\n  display         : flex;\r\n  align-items     : center;\r\n  justify-content : center;\r\n  height          : 28px;\r\n  min-width       : 28px;\r\n  margin-right    : 5px;\r\n  padding         : 5px;\r\n  background-color: #eaeaea;\r\n  border          : 1px solid #c8c8c8;\r\n  border-bottom   : none;\r\n  border-radius   : 4px 4px 0 0;\r\n  cursor          : pointer;\r\n  transition      : background-color 0.2s ease-in;\r\n}\r\n\r\n.fl-panel-control:hover {\r\n  background-color: white;\r\n}\r\n\r\n.fl-panel-control.is-active {\r\n  background-color: white;\r\n}\r\n\r\n.fl-panel-heading {\r\n  margin     : 6px 0 20px;\r\n  font-size  : 16px;\r\n  font-weight: 600;\r\n  line-height: 1.375;\r\n}\r\n\r\n.fl-panel-body {\r\n  display       : flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.fl-panel-toggler {\r\n  background-color: #fff;\r\n  border-color    : #373859;\r\n}\r\n\r\n.fl-panel-toggler svg {\r\n  display  : block;\r\n  transform: rotate(-90deg);\r\n}\r\n\r\n.fl-panel-toggler .icon-arrows {\r\n  width : 10px;\r\n  height: 10px;\r\n}\r\n\r\n.fl-panel-tab {\r\n  min-width : 64px;\r\n  text-align: center;\r\n}\r\n\r\n.fl-panel .icon-arrows {\r\n  display: none;\r\n}\r\n\r\n.fl-panel .icon-sign {\r\n  display: block;\r\n}\r\n\r\n.fl-panel.active .icon-arrows {\r\n  display: block;\r\n}\r\n\r\n.fl-panel.active .icon-sign {\r\n  display: none;\r\n}\r\n\r\n.fl-prop {\r\n  display      : block;\r\n  margin-bottom: 21px;\r\n}\r\n\r\n.fl-prop-label {\r\n  display      : block;\r\n  margin-bottom: 4px;\r\n  font-size    : 16px;\r\n}\r\n\r\n.fl-prop-value {\r\n  font-size: 14px;\r\n}\r\n\r\n.fl-prop input,\r\n.fl-prop textarea {\r\n  display    : block;\r\n  width      : 100%;\r\n  margin     : 0;\r\n  padding    : 8px;\r\n  font-size  : 14px;\r\n  line-height: 1.35;\r\n  color      : #3a3a3a;\r\n  border     : 1px solid #bdbdbd;\r\n  transition : border-color 0.3s ease;\r\n}\r\n\r\n.fl-prop textarea {\r\n  resize: vertical;\r\n}\r\n\r\n.fl-prop input:hover,\r\n.fl-prop input:focus,\r\n.fl-prop textarea:hover,\r\n.fl-prop textarea:focus {\r\n  outline     : none;\r\n  border-color: #373859;\r\n}\r\n\r\n\r\n/*\r\n * TOP TOOLBAR\r\n */\r\n.fl-top-toolbar {\r\n  display         : flex;\r\n  justify-content : space-between;\r\n  align-items     : center;\r\n  position        : relative;\r\n  z-index         : 1;\r\n  width           : 100%;\r\n  padding         : 6px 30px;\r\n  border-bottom   : 1px solid #373859;\r\n  color           : white;\r\n  background-color: #475560;\r\n}\r\n\r\n/*\r\n * BOTTOM TOOLBAR\r\n */\r\n.fl-bottom-toolbar {\r\n  display         : flex;\r\n  justify-content : flex-end;\r\n  width           : 100%;\r\n  position        : relative;\r\n  z-index         : 1;\r\n  min-height      : 40px;\r\n  padding         : 6px 30px;\r\n  background-color: #475560;\r\n  border-top      : 1px solid #373859;\r\n}\r\n\r\n.fl-scale {\r\n  font-size     : 14px;\r\n  line-height   : 1.35;\r\n  display       : inline-block;\r\n  vertical-align: middle;\r\n  margin-right  : -6px;\r\n  margin-left   : -9px;\r\n  cursor        : default;\r\n}\r\n\r\n.fl-scale .fl-btn-icon {\r\n  display        : inline-flex;\r\n  align-items    : center;\r\n  justify-content: center;\r\n  min-width      : 21px;\r\n  min-height     : 21px;\r\n  margin-right   : 0;\r\n}\r\n\r\n.fl-scale-value {\r\n  display       : inline-block;\r\n  margin        : 0 4px;\r\n  min-width     : 36px;\r\n  text-align    : right;\r\n  vertical-align: middle;\r\n  color         : white;\r\n}\r\n\r\n/*\r\n * LIBRARY\r\n */\r\n.fl-library {\r\n  position        : absolute;\r\n  z-index         : 1;\r\n  top             : 40px;\r\n  left            : 0;\r\n  bottom          : 40px;\r\n  display         : flex;\r\n  flex-direction  : column;\r\n  align-items     : center;\r\n  width           : 100px;\r\n  padding         : 2px;\r\n  background-color: #475560;\r\n  border-right    : 1px solid #373859;\r\n  transform       : translate3d(-100%, 0, 0);\r\n  transition      : transform 0.2s ease-in;\r\n  overflow        : hidden auto;\r\n}\r\n\r\n.fl-library.active {\r\n  transform: translate3d(0, 0, 0);\r\n}\r\n\r\n.fl-library-divider {\r\n  width     : 80%;\r\n  height    : 2px;\r\n  border    : none;\r\n  background: rgba(189, 189, 189, 1);\r\n}\r\n\r\n/*\r\n * WORKSPACE\r\n */\r\n.fl-main-area {\r\n  display         : flex;\r\n  width           : 100%;\r\n  height          : 100%;\r\n  background-color: #ddd;\r\n}\r\n\r\n.fl-workspace {\r\n  width     : 100%;\r\n  height    : 100%;\r\n  overflow  : auto;\r\n  position  : relative;\r\n  background: #1c2e3c;\r\n}\r\n\r\n.fl-canvas-container {\r\n  position: absolute;\r\n  top     : 0;\r\n  left    : 0;\r\n}\r\n\r\n.fl-canvas-container>canvas {\r\n  background    : rgba(255, 255, 255, 1);\r\n  box-shadow    : 0 0 3px rgba(0, 0, 0, 0.42);\r\n  z-index       : 0;\r\n  pointer-events: none;\r\n}\r\n\r\n.fl-canvas-container>div {\r\n  position: absolute;\r\n  top     : 0;\r\n  left    : 0;\r\n  width   : 100%;\r\n  height  : 100%;\r\n}\r\n\r\n/*\r\n * PROPERTIES PANEL\r\n */\r\n.fl-properties-panel {\r\n  position      : absolute;\r\n  top           : 40px;\r\n  bottom        : 40px;\r\n  right         : 0;\r\n  display       : flex;\r\n  flex-direction: column;\r\n  width         : 300px;\r\n\r\n  padding         : 10px;\r\n  background-color: white;\r\n  border-left     : 1px solid #373859;\r\n  transform       : translate3d(100%, 0, 0);\r\n  transition      : transform 0.2s ease-in;\r\n}\r\n\r\n.fl-properties-panel.active {\r\n  transform: translate3d(0, 0, 0);\r\n}\r\n\r\n.fl-properties-panel .fl-panel-items {\r\n  max-height   : 400px;\r\n  overflow     : auto;\r\n  padding-right: 5px;\r\n}\r\n\r\n.fl-properties-panel .fl-panel-items select {\r\n  width: 100%;\r\n}\r\n\r\n.fl-properties-panel .fl-panel-controls {\r\n  position: absolute;\r\n  top     : 5px;\r\n  left    : -30px;\r\n}\r\n\r\n.fl-properties-panel .fl-panel-control {\r\n  border       : 1px solid #373859;\r\n  border-top   : none;\r\n  border-radius: 0 0 4px 4px;\r\n}\r\n\r\n.fl-properties-panel .icon-arrows {\r\n  margin-top: -2px;\r\n}\r\n\r\n.fl-library-item .item-label {\r\n  font-size : 10px;\r\n  text-align: center;\r\n  margin-top: -5px;\r\n  color     : white;\r\n}\r\n\r\n.multiline_container {\r\n  width: 100%;\r\n}\r\n\r\n.multiline_container .multiline_holder {\r\n  width: 100%;\r\n}\r\n\r\n.multiline_container .multiline_holder .keyinput {\r\n  width        : 48%;\r\n  float        : left;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.multiline_container .multiline_holder .valueinput {\r\n  width        : 48%;\r\n  float        : right;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.lastupdate_holder {\r\n  text-align: right;\r\n}\r\n\r\n/* tab */\r\n.tab {\r\n  /* overflow: hidden; */\r\n  border-bottom   : 1px solid #ccc;\r\n  background-color: rgb(248, 248, 248);\r\n}\r\n\r\n/* Style the buttons that are used to open the tab content */\r\n.tab button {\r\n  background-color: inherit;\r\n  float           : left;\r\n  border          : none;\r\n  outline         : none;\r\n  cursor          : pointer;\r\n  padding         : 14px 16px;\r\n  transition      : 0.3s;\r\n  color           : #000;\r\n  font-weight     : bold;\r\n  font-size       : 14px;\r\n}\r\n\r\n/* Change background color of buttons on hover */\r\n.tab button:hover {\r\n  background-color: #90baf5;\r\n  color           : #fff;\r\n}\r\n\r\nbutton.focused {\r\n  background-color: #90baf5;\r\n  color           : #fff;\r\n}\r\n\r\n/* Create an active/current tablink class */\r\n.tab button.active {\r\n  background-color: #ccc;\r\n}\r\n\r\n/* Style the tab content */\r\n.tabcontent {\r\n  width        : 100%;\r\n  /* display   : none; */\r\n  /* padding   : 6px 12px; */\r\n  /* border    : 1px solid #ccc; */\r\n  /* border-top: none; */\r\n}\r\n\r\n.hide {\r\n  display: none !important;\r\n}\r\n\r\n.message_bar {\r\n  z-index : 9999;\r\n  width   : calc(50vw);\r\n  padding : 10px 5px;\r\n  position: absolute;\r\n  margin  : 0 auto;\r\n  left    : 25%;\r\n}\r\n\r\n.error_message {\r\n  background: #f97529;\r\n  color     : #fff;\r\n}\r\n\r\n.success_message {\r\n  background: #439a17;\r\n  color     : #fff;\r\n}\r\n\r\n.message_closebtn {\r\n  position : absolute;\r\n  right    : 15px;\r\n  font-size: 15px;\r\n  top      : 0px;\r\n}"},function(t,e,s){"use strict";s.r(e),e.default='/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\r\nhtml {\r\n    line-height             : 1.15;\r\n    -webkit-text-size-adjust: 100%;\r\n    height                  : 100% !important;\r\n    background              : #1c2e3c !important;\r\n}\r\n\r\nbody {\r\n    margin    : 0;\r\n    height    : 100% !important;\r\n    background: #1c2e3c !important;\r\n}\r\n\r\nhtml,\r\nbody {\r\n    height    : 100% !important;\r\n    background: #1c2e3c !important;\r\n}\r\n\r\nmain {\r\n    display: block\r\n}\r\n\r\nh1 {\r\n    font-size: 2em;\r\n    margin   : 0.67em 0\r\n}\r\n\r\nhr {\r\n    box-sizing: content-box;\r\n    height    : 0;\r\n    overflow  : visible\r\n}\r\n\r\npre {\r\n    font-family: monospace, monospace;\r\n    font-size  : 1em\r\n}\r\n\r\na {\r\n    background-color: transparent\r\n}\r\n\r\nabbr[title] {\r\n    border-bottom  : none;\r\n    text-decoration: underline;\r\n    text-decoration: underline dotted\r\n}\r\n\r\nb,\r\nstrong {\r\n    font-weight: bolder\r\n}\r\n\r\ncode,\r\nkbd,\r\nsamp {\r\n    font-family: monospace, monospace;\r\n    font-size  : 1em\r\n}\r\n\r\nsmall {\r\n    font-size: 80%\r\n}\r\n\r\nsub,\r\nsup {\r\n    font-size     : 75%;\r\n    line-height   : 0;\r\n    position      : relative;\r\n    vertical-align: baseline\r\n}\r\n\r\nsub {\r\n    bottom: -0.25em\r\n}\r\n\r\nsup {\r\n    top: -0.5em\r\n}\r\n\r\nimg {\r\n    border-style: none\r\n}\r\n\r\nbutton,\r\ninput,\r\noptgroup,\r\nselect,\r\ntextarea {\r\n    font-family: inherit;\r\n    font-size  : 100%;\r\n    line-height: 1.15;\r\n    margin     : 0\r\n}\r\n\r\nbutton,\r\ninput {\r\n    overflow: visible\r\n}\r\n\r\nbutton,\r\nselect {\r\n    text-transform: none\r\n}\r\n\r\n[type="button"],\r\n[type="reset"],\r\n[type="submit"],\r\nbutton {\r\n    -webkit-appearance: button\r\n}\r\n\r\n[type="button"]::-moz-focus-inner,\r\n[type="reset"]::-moz-focus-inner,\r\n[type="submit"]::-moz-focus-inner,\r\nbutton::-moz-focus-inner {\r\n    border-style: none;\r\n    padding     : 0\r\n}\r\n\r\n[type="button"]:-moz-focusring,\r\n[type="reset"]:-moz-focusring,\r\n[type="submit"]:-moz-focusring,\r\nbutton:-moz-focusring {\r\n    outline: 1px dotted ButtonText\r\n}\r\n\r\nfieldset {\r\n    padding: 0.35em 0.75em 0.625em\r\n}\r\n\r\nlegend {\r\n    box-sizing : border-box;\r\n    color      : inherit;\r\n    display    : table;\r\n    max-width  : 100%;\r\n    padding    : 0;\r\n    white-space: normal\r\n}\r\n\r\nprogress {\r\n    vertical-align: baseline\r\n}\r\n\r\ntextarea {\r\n    overflow: auto\r\n}\r\n\r\n[type="checkbox"],\r\n[type="radio"] {\r\n    box-sizing: border-box;\r\n    padding   : 0\r\n}\r\n\r\n[type="number"]::-webkit-inner-spin-button,\r\n[type="number"]::-webkit-outer-spin-button {\r\n    height: auto\r\n}\r\n\r\n[type="search"] {\r\n    -webkit-appearance: textfield;\r\n    outline-offset    : -2px\r\n}\r\n\r\n[type="search"]::-webkit-search-decoration {\r\n    -webkit-appearance: none\r\n}\r\n\r\n::-webkit-file-upload-button {\r\n    -webkit-appearance: button;\r\n    font              : inherit\r\n}\r\n\r\ndetails {\r\n    display: block\r\n}\r\n\r\nsummary {\r\n    display: list-item\r\n}\r\n\r\ntemplate {\r\n    display: none\r\n}\r\n\r\n[hidden] {\r\n    display: none\r\n}'},function(t,e){t.exports=""},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(8));e.default=class{constructor(t){this.handleCenterWorkspace=()=>{const t=this.workspaceCanvas,e=t.parentElement.offsetWidth,s=t.parentElement.offsetHeight;t.style.left=(e>t.width?(e-t.width)/2:0)+"px",t.style.top=(s>t.height?(s-t.height)/2:0)+"px",this.store.dispatch(r.default.CHANGE_SCALE,1)},this.handleChangeScale=()=>{this.scaleText.innerText=(100*this.store.scale).toFixed()+"%"},this.store=t.store,this.workspaceCanvas=t.layout.workspaceCanvas;const e=t.layout.bottomToolbar;this.centerWorkspaceButton=e.querySelector('[name="fl_btn_center_workspace"]'),this.centerWorkspaceButton.onclick=this.handleCenterWorkspace,this.increaseScaleButton=e.querySelector('[name="fl_btn_increase_scale"]'),this.increaseScaleButton.onclick=()=>this.store.dispatch(r.default.CHANGE_SCALE,this.store.scale+.1),this.decreaseScaleButton=e.querySelector('[name="fl_btn_decrease_scale"]'),this.decreaseScaleButton.onclick=()=>this.store.dispatch(r.default.CHANGE_SCALE,this.store.scale-.1),this.scaleText=e.querySelector(".fl-scale-value"),this.store.subscribe(r.default.CHANGE_SCALE,this.handleChangeScale)}unmount(){this.store.unsubscribe(r.default.CHANGE_SCALE,this.handleChangeScale)}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(8)),n=s(13),o=s(1);e.default=class{constructor(t,e){this.workflowsettingvalues={},this.handleClosepanel=()=>{this.propertiesPanel.classList.remove("active"),this.closePanelControl.classList.add("hide")},this.handleToggle=()=>{this.propertiesPanel.classList.contains("active")?this.propertiesPanel.classList.contains("active")&&this.propertiesPanelControl.classList.contains("active")?(this.propertiesPanel.classList.toggle("active"),this.propertiesPanelControl.classList.remove("active"),this.closePanelControl.classList.add("hide")):this.propertiesPanel.classList.contains("active")&&this.settingsPanelControl.classList.contains("active")&&(this.propertiesPanelControl.classList.add("active"),this.settingsPanelControl.classList.remove("active")):(this.propertiesPanel.classList.toggle("active"),this.propertiesPanelControl.classList.add("active"),this.closePanelControl.classList.remove("hide")),this.settingsPanelControl.classList.remove("active"),this.showpropertiestab()},this.handlesettingsToggle=()=>{this.propertiesPanel.classList.contains("active")?this.propertiesPanel.classList.contains("active")&&this.settingsPanelControl.classList.contains("active")?(this.propertiesPanel.classList.toggle("active"),this.settingsPanelControl.classList.remove("active"),this.closePanelControl.classList.add("hide")):this.propertiesPanel.classList.contains("active")&&this.propertiesPanelControl.classList.contains("active")&&(this.propertiesPanelControl.classList.remove("active"),this.settingsPanelControl.classList.add("active")):(this.propertiesPanel.classList.toggle("active"),this.settingsPanelControl.classList.add("active"),this.closePanelControl.classList.remove("hide")),this.propertiesPanelControl.classList.remove("active"),this.showsettingstab()},this.showpropertiestab=()=>{this.propoertiestab_btn.classList.remove("hide"),this.settingstab_btn.classList.add("hide"),this.propoertiestab.classList.remove("hide"),this.settingstab.classList.add("hide")},this.showsettingstab=()=>{this.propoertiestab_btn.classList.add("hide"),this.settingstab_btn.classList.remove("hide"),this.settingstab.classList.remove("hide"),this.propoertiestab.classList.add("hide"),this.setworkflowSettingElements()},this.handleSetworkflowSettings=()=>{this.setworkflowSettingElements()},this.handleSetNode=()=>{this.hideProperties();const t=this.store.selectedIndicator||this.store.selectedNode;t&&this.displayProperties(t)},this.displayProperties=t=>{const e=document.createDocumentFragment(),s=this.createPropertyLabelElement("ID"),i=this.createPropertyValueElement(t.id),o=(this.createPropertyElement([s,i]),""+performance.now()),a=this.createPropertyLabelElement("Name",o),l=this.createPropertyNameElement(o,t.label);l.oninput=n.textareaChange(e=>{this.store.dispatch(r.default.UPDATE_SHAPE_TEXT,{id:t.id,text:e}),this.store.dispatch(r.default.UPDATE_SHAPE_DATA,{id:t.id,text:e,propname:"name"})});const c=this.createPropertyElement([a,l]);console.log("shape:",t);const d="desc_"+performance.now(),h=this.createPropertyLabelElement("Description",d);let u=t.data&&t.data.desc?t.data.desc:"";const p=this.createPropertyTextareaElement(d,u);p.oninput=n.textareaChange(e=>{this.store.dispatch(r.default.UPDATE_SHAPE_DATA,{id:t.id,text:e,propname:"desc"})});const f=this.createPropertyElement([h,p]);if(e.appendChild(c),e.appendChild(f),this.addCustomProperties(t,e),t.data&&t.data.lastupdatedby){const s=this.createPropertyLastupdatesElement(t.data);e.appendChild(s)}this.propertiesPanelItems.appendChild(e)},this.addCustomProperties=(t,e)=>{const s=this.store.selectedIndicator||this.store.selectedNode;if(s){let i=[];switch(s.name){case o.UmlNodes.MachineNode:i=o.nodecustomProperties.MachineNode;break;case o.UmlNodes.SessionNode:i=o.nodecustomProperties.SessionNode;break;case o.UmlNodes.ActivityNode:i=o.nodecustomProperties.ActivityNode;break;case o.UmlNodes.CopyNode:i=o.nodecustomProperties.CopyNode;break;case o.UmlNodes.MessageNode:i=o.nodecustomProperties.MessageNode;break;case o.UmlNodes.WaitNode:i=o.nodecustomProperties.WaitNode;break;case o.UmlNodes.SettingsNode:i=o.nodecustomProperties.SettingsNode;break;case o.UmlNodes.DecisionNode:case o.UmlNodes.StartNode:i=o.nodecustomProperties.EndNode;break;case o.UmlNodes.PatchNode:i=o.nodecustomProperties.PatchNode;break;case o.UmlNodes.EndNode:i=o.nodecustomProperties.EndNode}console.log("Going to lay properties for element >>>>>>"),console.log(i),i.length>0&&i.forEach(s=>{const i=s.name+"_"+performance.now(),o=this.createPropertyLabelElement(s.label,i);let a=t.data&&t.data[s.name]?t.data[s.name]:"";var l;switch(!a&&s.default_value&&(a=s.default_value),s.inputType){case"input":(l=this.createPropertyNameElement(i,a,s)).oninput=n.textareaChange(e=>{this.store.dispatch(r.default.UPDATE_SHAPE_DATA,{id:t.id,text:e,propname:s.name})});const c=this.createPropertyElement([o,l]);e.appendChild(c);break;case"textarea":(l=this.createPropertyTextareaElement(i,a)).oninput=n.textareaChange(e=>{this.store.dispatch(r.default.UPDATE_SHAPE_DATA,{id:t.id,text:e,propname:s.name})});const d=this.createPropertyElement([o,l]);e.appendChild(d);break;case"password":(l=this.createPropertyNameElement(i,a,s)).oninput=n.textareaChange(e=>{this.store.dispatch(r.default.UPDATE_SHAPE_DATA,{id:t.id,text:e,propname:s.name})});const h=this.createPropertyElement([o,l]);e.appendChild(h);break;case"multiline":l=this.createPropertyButtonElement(i,"Add");const u=document.createElement("div");u.classList.add("multiline_container");let p=0,f=t.data[s.name]||[];f.length>0?f.forEach(e=>{this.createKeyValueElements(u,s,t,p,e),p+=1}):this.createKeyValueElements(u,s,t,p),l.onclick=e=>{p+=1,this.createKeyValueElements(u,s,t,p)};const _=this.createPropertyElement([o,l]);e.appendChild(_),e.appendChild(u);break;case"list":const m=document.createElement("div");m.classList.add("multiline_container");let E=[];E=s.dynamics&&s.dynamics.enabled&&this.context.options.listItems&&this.context.options.listItems.length>0?this.context.options.listItems:s.listItem,(l=this.createPropertyListElement(i,E,a)).oninput=e=>{let i=e.target.value;if(this.store.selectedNode&&(this.store.selectedNode.data.Params=[],this.store.selectedNode._data.Params=[]),s.dynamics&&"scripts"==s.dynamics.type&&s.dynamics.enabled&&this.context.options.listItems&&this.context.options.listItems.length>0){let e=[];this.context.options.listItems.forEach(t=>{let s=[];t.params&&t.params.length>0&&t.value==i&&t.params.forEach(t=>{s.push({key:t.fieldname,value:`{{${t.fieldvalue}}}`})}),e=[...e,...s]});let r=0;e.forEach(e=>{let i=Object.assign({},s);i.name="Params",this.createKeyValueElements(m,i,t,r,e),r+=1}),this.hideProperties(),setTimeout(()=>{this.displayProperties(t)},50)}this.store.dispatch(r.default.UPDATE_SHAPE_DATA,{id:t.id,text:i,propname:s.name})};const g=this.createPropertyElement([o,l]);if(m.appendChild(g),e.appendChild(m),s.dynamics&&"scripts"==s.dynamics.type&&s.dynamics.enabled&&this.context.options.listItems&&this.context.options.listItems.length>0&&t.data.Params){let e=t.data.Params,i=0;e.forEach(e=>{let r=Object.assign({},s);r.name="Params",this.createKeyValueElements(m,r,t,i,e),i+=1})}}})}},this.createKeyValueElements=(t,e,s,i,o)=>{const a=document.createElement("div");a.classList.add("multiline_holder");const l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("placeholder","Key"),l.setAttribute("id",s.id+"k~"+i.toString()),l.value=o?o.key:"",l.classList.add("keyinput"),l.oninput=n.InputtextChangeEvent(t=>{this.store.dispatch(r.default.UPDATE_SHAPE_DATA,{id:s.id,idx:t.currentTarget.id,text:t.currentTarget.value,keypair:!0,propname:e.name,key:!0})}),o&&o.key&&this.store.dispatch(r.default.UPDATE_SHAPE_DATA,{id:s.id,idx:s.id+"k~"+i.toString(),text:o.key,keypair:!0,propname:e.name,key:!0});const c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("placeholder","Value"),c.setAttribute("id",s.id+"v~"+i.toString()),c.value=o?o.value:"",c.classList.add("valueinput"),c.oninput=n.InputtextChangeEvent(t=>{this.store.dispatch(r.default.UPDATE_SHAPE_DATA,{id:s.id,idx:t.currentTarget.id,text:t.currentTarget.value,keypair:!0,propname:e.name,key:!1})}),o&&o.value&&this.store.dispatch(r.default.UPDATE_SHAPE_DATA,{id:s.id,idx:s.id+"v~"+i.toString(),text:o.value,keypair:!0,propname:e.name,key:!1}),a.appendChild(l),a.appendChild(c),t.appendChild(a)},this.createPropertyLastupdatesElement=t=>{const e=document.createElement("div");e.classList.add("lastupdate_holder");const s=document.createElement("div");s.classList.add("lastupdateby"),s.innerHTML="Last update by: <b>"+((null==t?void 0:t.lastupdatedby)||"")+"</b>",e.appendChild(s);const i=document.createElement("div");return i.classList.add("lastupdatedate"),i.innerHTML="Last updated date: <b>"+((null==t?void 0:t.lastupdateddate)||"")+"</b>",e.appendChild(i),e},this.createPropertyLabelElement=(t,e)=>{const s=document.createElement("span");return s.classList.add("fl-prop-label"),s.innerText=t,e&&s.setAttribute("for",e),s},this.createPropertyValueElement=t=>{const e=document.createElement("span");return e.classList.add("fl-prop-value"),e.innerText=t,e},this.createPropertyNameElement=(t,e,s)=>{const i=document.createElement("input");return s?"password"==s.inputType?i.setAttribute("type","password"):"number"==s.datatype?i.setAttribute("type","number"):i.setAttribute("type","text"):i.setAttribute("type","text"),i.id=t,i.value=e,i},this.createPropertyButtonElement=(t,e)=>{const s=document.createElement("button");return s.innerText=e,s.classList.add("btn"),s.id=t,s},this.createPropertyTextareaElement=(t,e)=>{const s=document.createElement("textarea");return s.setAttribute("rows","3"),s.id=t,s.value=e,s},this.createPropertyListElement=(t,e,s)=>{const i=document.createElement("select");for(const t of e){var r=document.createElement("option");r.value=t.value,r.text=t.label,i.appendChild(r)}return i.id=t,i.value=s,i},this.createPropertyElement=t=>{const e=document.createElement("div");return e.classList.add("fl-prop"),t.forEach(t=>e.appendChild(t)),e},this.hideProperties=()=>{const t=this.propertiesPanelItems;for(;t.firstChild;)t.removeChild(t.firstChild)},this.store=t.store,this.context=t,this.propertiesPanel=e,this.propertiesPanelItems=e.querySelector(".fl-panel-items"),this.propertiesPanelControl=this.propertiesPanel.querySelector(".fl-panel-toggler"),this.propertiesPanelControl.onclick=this.handleToggle,this.settingsPanelControl=this.propertiesPanel.querySelector(".fl-settingspanel-toggler"),this.settingsPanelControl.onclick=this.handlesettingsToggle,this.closePanelControl=this.propertiesPanel.querySelector(".fl-panel-close"),this.closePanelControl.onclick=this.handleClosepanel,this.propoertiestab_btn=this.propertiesPanel.querySelector("#propertiestab_link"),this.propoertiestab=this.propertiesPanel.querySelector("#propertiestab"),this.propoertiestab_btn.onclick=this.showpropertiestab,this.settingstab_btn=this.propertiesPanel.querySelector("#settingstab_link"),this.settingstab=this.propertiesPanel.querySelector("#settingstab"),this.settingstab_btn.onclick=this.showsettingstab,this.store.subscribe(r.default.SET_NODE,this.handleSetNode),this.store.subscribe(r.default.ESCAPE,this.handleSetNode),this.store.subscribe(r.default.SET_WORKFLOWSETTINGS_EDIT,this.handleSetworkflowSettings)}setworkflowSettingElements(){this.workflowsettingvalues=this.store.getWorkflowSettings(),console.log("editing setting",this.workflowsettingvalues),this.settingstab.innerHTML="";let t=o.WorkflowSettingsKeys;t.length>0&&t.forEach(t=>{const e="settings_"+t.name,s=this.createPropertyLabelElement(t.label,e);let i="";var o;switch(this.workflowsettingvalues&&(i=this.workflowsettingvalues[t.name]?this.workflowsettingvalues[t.name]:""),t.inputType){case"input":(o=this.createPropertyNameElement(e,i,t)).oninput=n.textareaChange(e=>{this.store.dispatch(r.default.UPDATE_WORKFLOWSETTINGS_DATA,{text:e,propname:t.name})});const a=this.createPropertyElement([s,o]);this.settingstab.appendChild(a);break;case"textarea":(o=this.createPropertyTextareaElement(e,i)).oninput=n.textareaChange(e=>{this.store.dispatch(r.default.UPDATE_WORKFLOWSETTINGS_DATA,{text:e,propname:t.name})});const l=this.createPropertyElement([s,o]);this.settingstab.appendChild(l);break;case"list":const c=document.createElement("div");c.classList.add("multiline_container"),t.dynamics&&t.dynamics.enabled&&this.context.options.categoryItems&&this.context.options.categoryItems.length>0&&(t.listItem=this.context.options.categoryItems),(o=this.createPropertyListElement(e,t.listItem,i)).oninput=n.textareaChange(e=>{this.store.dispatch(r.default.UPDATE_WORKFLOWSETTINGS_DATA,{text:e,propname:t.name})}),o.classList.add("multiline_container");const d=this.createPropertyElement([s,o]);c.appendChild(d),this.settingstab.appendChild(c)}})}unmount(){this.store.unsubscribe(r.default.SET_NODE,this.handleSetNode)}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(0),n=s(16),o=i(s(8)),a=i(s(94)),l=s(13);e.default=class{constructor(t,e){this.updateHistoryButtons=()=>{this.store.hasUndo()||this.undoButton.classList.contains("fl-btn-disabled")?this.store.hasUndo()&&this.undoButton.classList.contains("fl-btn-disabled")&&this.undoButton.classList.remove("fl-btn-disabled"):this.undoButton.classList.add("fl-btn-disabled"),this.store.hasRedo()||this.redoButton.classList.contains("fl-btn-disabled")?this.store.hasRedo()&&this.redoButton.classList.contains("fl-btn-disabled")&&this.redoButton.classList.remove("fl-btn-disabled"):this.redoButton.classList.add("fl-btn-disabled")},this.initShowGridCheckbox=t=>{const e=t.querySelector('[name="fl_show_grid"]');return e.checked=this.store.grid.enabled,e.oninput=l.checkboxChange(t=>{this.store.dispatch(o.default.GRID_VIEW,t)}),e},this.initSnapToGridCheckbox=t=>{const e=t.querySelector('[name="fl_snap_to_grid"]');return e.checked=this.store.grid.snap,e.oninput=l.checkboxChange(t=>{this.store.dispatch(o.default.GRID_SNAP,t)}),e},this.initExportJsonButton=t=>{const e=t.querySelector('[name="fl_export_json"]');return e.onclick=()=>{const t=this.diagram.name+".json";this.diagram.validateExports();const s=this.diagram.export();a.default.handleClickDownloadJson(e,t,s)},e},this.initExportPngButton=t=>{const e=t.querySelector('[name="fl_export_png"]');return e.onclick=()=>{let t=this.diagram.validateExports();t.valid?this.handleSaveScaledPng(e):this.showMessage(t.validation_msg,"error")},e},this.initImportJsonButton=t=>{const e=document.createElement("input");e.type="file",e.onclick=t=>{t.target.value=""},e.onchange=l.inputFileChange(t=>{const e=t[0],s=new FileReader;s.readAsText(e,"UTF-8"),s.onload=t=>{if(t.target&&t.target.result)try{this.diagram.import(JSON.parse(t.target.result.toString()))}catch(t){this.showMessage("Please upload valid JSON file","error")}},s.onerror=t=>{}});const s=t.querySelector('[name="fl_import_json"]');return s.onclick=()=>{e.click()},s},this.handleSaveScaledPng=t=>{const e=document.createElement("canvas"),s=document.createElement("div"),i=5*r.GRID_STEP,{min:o,max:l}=n.chartBorderDefinition(this.store.nodes,this.store.links),c=l.x-o.x+2*i,d=l.y-o.y+2*i,h=this.getQuality(c,d);e.width=c*h,e.height=d*h;const u=(i-o.x)*h,p=(i-o.y)*h,f=e.getContext("2d");f.translate(u,p),f.scale(h,h),f.fillStyle="#ffffff",f.fillRect(0,0,e.width,e.height);const _=this.diagram.createNodeFactory(e,s);this.store.nodes.forEach(t=>{_.getNode(t.name,{x:t.x,y:t.y}).draw()}),this.store.links.forEach(t=>{_.getLink(t.points).draw()});const m=e.toDataURL("image/png");a.default.handleClickDownload(t,"UML.png",m)},this.getQuality=(t,e)=>{const s=Math.floor(24e5/(t*e));return Math.max(s,1)},this.diagram=t.diagram,this.store=t.store,this.autoLayoutButton=e.querySelector('[name="fl_auto_layout"]'),this.undoButton=e.querySelector('[name="fl_undo_button"]'),this.redoButton=e.querySelector('[name="fl_redo_button"]'),this.showGridCheckbox=this.initShowGridCheckbox(e),this.snapToGridCheckbox=this.initSnapToGridCheckbox(e),this.exportJsonButton=this.initExportJsonButton(e),this.exportPngButton=this.initExportPngButton(e),this.importJsonButton=this.initImportJsonButton(e),this.autoLayoutButton.onclick=()=>this.store.dispatch(o.default.AUTO_LAYOUT),this.undoButton.onclick=()=>this.store.dispatch(o.default.UNDO),this.redoButton.onclick=()=>this.store.dispatch(o.default.REDO);e.querySelector(".fl-controller-item").style.display="none",this.store.subscribe(o.default.SET_NODE,this.updateHistoryButtons),this.store.subscribe(o.default.SET_CONNECTOR,this.updateHistoryButtons),this.store.subscribe(o.default.SET_NEW_CONNECTOR,this.updateHistoryButtons),this.store.subscribe(o.default.SET_CONNECTION_POINT,this.updateHistoryButtons),this.store.subscribe(o.default.ADD_NODE,this.updateHistoryButtons),this.store.subscribe(o.default.ADD_CONNECTOR,this.updateHistoryButtons),this.store.subscribe(o.default.DELETE_NODE,this.updateHistoryButtons),this.store.subscribe(o.default.DELETE_CONNECTOR,this.updateHistoryButtons),this.store.subscribe(o.default.UNDO,this.updateHistoryButtons),this.store.subscribe(o.default.REDO,this.updateHistoryButtons),this.messagePanel=e.querySelector("#message_bar"),this.messageContent=e.querySelector("#message_content"),this.message_close=e.querySelector("#message_close"),this.message_close.onclick=()=>{this.messagePanel.classList.add("hide"),this.messageContent.innerHTML=""}}showMessage(t,e){switch(this.messagePanel.classList.remove("success_message"),this.messagePanel.classList.remove("error_message"),this.messageContent.innerHTML="",e){case"success":this.messagePanel.classList.add("success_message");break;case"error":this.messagePanel.classList.add("error_message");break;default:this.messagePanel.classList.add("default")}this.messagePanel.classList.remove("hide"),this.messageContent.innerHTML=t,setTimeout(()=>{this.messagePanel.classList.add("hide"),this.messageContent.innerHTML=""},3600)}unmount(){this.store.unsubscribe(o.default.SET_NODE,this.updateHistoryButtons),this.store.unsubscribe(o.default.SET_CONNECTOR,this.updateHistoryButtons),this.store.unsubscribe(o.default.SET_NEW_CONNECTOR,this.updateHistoryButtons),this.store.unsubscribe(o.default.SET_CONNECTION_POINT,this.updateHistoryButtons),this.store.unsubscribe(o.default.ADD_NODE,this.updateHistoryButtons),this.store.unsubscribe(o.default.ADD_CONNECTOR,this.updateHistoryButtons),this.store.unsubscribe(o.default.DELETE_NODE,this.updateHistoryButtons),this.store.unsubscribe(o.default.DELETE_CONNECTOR,this.updateHistoryButtons),this.store.unsubscribe(o.default.UNDO,this.updateHistoryButtons),this.store.unsubscribe(o.default.REDO,this.updateHistoryButtons)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);function r(t){return 0===t||t%(i.GRID_STEP*i.GRID_MAIN_LINE_STEP)==0}e.default=class{constructor(t){this.ctx=t}draw(t,e){this.ctx.save();for(let s=0;s<=t;s+=i.GRID_STEP)this.drawLine({x:s,y:0},{x:s,y:e},r(s));for(let s=0;s<=e;s+=i.GRID_STEP)this.drawLine({x:0,y:s},{x:t,y:s},r(s));this.ctx.restore()}drawLine(t,e,s){this.ctx.strokeStyle=s?i.GRID_MAIN_LINE_COLOR:i.GRID_COLOR,this.ctx.lineWidth=s?i.GRID_MAIN_LINE_WIDTH:i.GRID_WIDTH,this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(e.x,e.y),this.ctx.stroke()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{}e.default=i,i.downloadJson=(t,e)=>{const s=document.createElement("a");s.onclick=()=>{i.handleClickDownloadJson(s,t,e)},s.click()},i.handleClickDownloadJson=(t,e,s)=>{const r=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),n=URL.createObjectURL(r);return i.handleClickDownload(t,e,n)},i.handleClickDownload=(t,e,s)=>{t.download=e,t.href=s,setTimeout(()=>{URL.revokeObjectURL(t.href)},0)}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(16)),n=i(s(96)),o=i(s(8));e.default=class{constructor(t){this.onMouseWheel=t=>{t.ctrlKey&&t.deltaY>0?(this.store.dispatch(o.default.CHANGE_SCALE,this.store.scale-.1),t.preventDefault()):t.ctrlKey&&t.deltaY<0&&(this.store.dispatch(o.default.CHANGE_SCALE,this.store.scale+.1),t.preventDefault())},this.store=t.store,this.workspace=t.layout.workspace,this.canvas=new r.default(t),this.canvasEventListener=new n.default(t),this.workspace.addEventListener("wheel",this.onMouseWheel,{passive:!1})}unmount(){this.canvas.unmount(),this.canvasEventListener.unmount(),this.workspace.removeEventListener("wheel",this.onMouseWheel)}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(0),n=i(s(3)),o=i(s(11)),a=i(s(19)),l=i(s(4)),c=s(16),d=i(s(97)),h=i(s(8)),u=i(s(98));e.default=class{constructor(t){this.isMovableShape=!0,this.moveAction=null,this.editedShape=null,this.anchorPoint=null,this.anchorPointLink=null,this.addEventListeners=()=>{this.workspaceContainer.addEventListener("mousedown",this.onMouseDown),this.workspaceContainer.addEventListener("mouseup",this.onMouseUp),this.workspaceContainer.addEventListener("mousemove",this.onMouseMove),this.workspaceContainer.addEventListener("mouseleave",this.onMouseUp),this.context.options.viewMode||(this.workspaceContainer.addEventListener("click",this.onMouseClick),this.workspaceContainer.addEventListener("dblclick",this.onMouseDbClick),this.workspaceContainer.addEventListener("dragover",this.onDragover),this.workspaceContainer.addEventListener("drop",this.onDrop))},this.removeEventListeners=()=>{this.workspaceContainer.removeEventListener("mousemove",this.onMouseMove),this.workspaceContainer.removeEventListener("mousedown",this.onMouseDown),this.workspaceContainer.removeEventListener("mouseup",this.onMouseUp),this.workspaceContainer.removeEventListener("mouseleave",this.onMouseUp),this.workspaceContainer.removeEventListener("click",this.onMouseClick),this.workspaceContainer.removeEventListener("dblclick",this.onMouseDbClick),this.workspaceContainer.removeEventListener("dragover",this.onDragover),this.workspaceContainer.removeEventListener("drop",this.onDrop)},this.onMouseMove=t=>{if(this.context.options.viewMode)return;const e=window.devicePixelRatio*this.store.scale,s=t.movementX/e,i=t.movementY/e;if(this.anchorPoint&&this.anchorPointLink&&(this.moveAction||(this.moveAction=new u.default(this.anchorPointLink)),this.moveAction.pushCoordinates(s,i),this.anchorPointLink.movePoint(this.anchorPoint,s,i)),this.onHoverDetection(t),this.store.newConnector||this.store.selectedConnectionPoint||this.handleCursorMutation(t),this.isMovableShape){const t=this.store.selectedIndicator||this.store.selectedNode;t&&(this.moveAction||(this.moveAction=new u.default(t),this.editedShape=null),this.moveAction.pushCoordinates(s,i),t.move(s,i))}(this.store.selectedNode||this.store.selectedConnector)&&this.resizeWorkspace(),this.store.dispatch(h.default.DRAW)},this.onHoverDetection=t=>{const{x:e,y:s}=this.getCursorCoordinates(t);this.store.indicators.forEach(t=>{t.isHover=!t.isActive&&t.includes(e,s)}),this.store.nodes.forEach(t=>{t.isHover=!t.isActive&&t.includes(e,s)}),this.store.links.forEach(t=>t.onHover(t.includes(e,s)))},this.getCursorCoordinates=t=>({x:t.offsetX,y:t.offsetY}),this.handleCursorMutation=t=>{const{x:e,y:s}=this.getCursorCoordinates(t),i=this.store.findIndicatorByCoordinates(e,s),r=this.store.findLinkByCoordinates(e,s),n=this.store.findNodeByCoordinates(e,s);i||r||n?(this.workspaceContainer.style.cursor="pointer",n&&n.getConnectionPoint({x:e,y:s})&&(this.workspaceContainer.style.cursor="crosshair")):this.workspaceContainer.style.cursor="default"},this.resizeWorkspace=()=>{const{min:t,max:e}=c.chartBorderDefinition(this.store.nodes,this.store.links),s=100*(1-this.store.scale),i=20*r.GRID_STEP,n=5*r.GRID_STEP;let o=!1,a=0,l=0;const d=this.ctx.canvas;if(t.x<n){const t=this.workspaceContainer.style.left?parseInt(this.workspaceContainer.style.left,10):0;this.workspaceContainer.style.left=t-i+s+"px",d.width+=i,a=i,o=!0}if(t.y<n){const t=this.workspaceContainer.style.top?parseInt(this.workspaceContainer.style.top,10):0;this.workspaceContainer.style.top=t-i+s+"px",d.height+=i,l=i,o=!0}if(e.x+n>d.width){const t=this.workspaceContainer.style.left?parseInt(this.workspaceContainer.style.left,10):0;this.workspaceContainer.style.left=t-s+"px",d.width+=i,o=!0}if(e.y+n>d.height){const t=this.workspaceContainer.style.top?parseInt(this.workspaceContainer.style.top,10):0;this.workspaceContainer.style.top=t-s+"px",d.height+=i,o=!0}o&&(this.store.moveAllIndicators(a,l),this.store.moveAllLinks(a,l),this.store.moveAllNodes(a,l))},this.onMouseDown=t=>{this.isMovableShape=!0;const{x:e,y:s}=this.getCursorCoordinates(t);let i;if(this.selectIndicator(this.store.findIndicatorByCoordinates(e,s)),this.selectNode(this.store.findNodeByCoordinates(e,s)),this.selectLink(this.store.findLinkByCoordinates(e,s)),this.store.selectedIndicator);else if(this.store.selectedNode)i=this.store.selectedNode.getConnectionPoint({x:e,y:s});else if(this.store.selectedConnector){const t=this.store.selectedConnector.getDetectedPoint({x:e,y:s});t&&(this.anchorPoint=t,this.anchorPointLink=this.store.selectedConnector),this.store.dispatch(h.default.SET_CONNECTION_POINT,t)}if(i){this.isMovableShape=!1;const t=new n.default(this.ctx,{x:i.x,y:i.y}),e=this.diagram.nodeFactory.getLink([i,t]);this.anchorPoint=t,this.anchorPointLink=e,this.store.dispatch(h.default.SET_NEW_CONNECTOR,e)}this.store.dispatch(h.default.DRAW)},this.selectIndicator=t=>this.store.dispatch(h.default.SET_INDICATOR,t),this.selectNode=t=>this.store.dispatch(h.default.SET_NODE,t),this.selectLink=t=>this.store.dispatch(h.default.SET_CONNECTOR,t),this.onMouseUp=t=>{if(this.isMovableShape=!1,this.moveAction&&(this.store.archiveAction(this.moveAction),this.moveAction=null),this.anchorPoint&&this.anchorPointLink&&(this.anchorPointLink.movePointFinished(this.anchorPoint),this.anchorPoint=null,this.anchorPointLink=null),this.store.newConnector){const e=this.getCursorCoordinates(t);this.createConnection(e,this.store.newConnector)}this.store.grid.snap&&this.setRelevantGridCoordinates(),this.store.dispatch(h.default.SET_CONNECTION_POINT,null),this.store.dispatch(h.default.DRAW)},this.createConnection=({x:t,y:e},s)=>{const i=this.store.findNodeByCoordinates(t,e);let r;if(i&&(r=i.getConnectionPoint({x:t,y:e})),r&&(r.x!==s.points[0].x||r.y!==s.points[0].y)){const t=this.diagram.nodeFactory.getLink([s.points[0],r]);this.store.dispatch(h.default.ADD_CONNECTOR,t)}this.store.dispatch(h.default.SET_NEW_CONNECTOR,null)},this.setRelevantGridCoordinates=()=>{if(this.store.selectedConnectionPoint){const t=this.getRelevantCoordinates(this.store.selectedConnectionPoint.x,this.store.selectedConnectionPoint.y);this.store.selectedConnectionPoint.move(t.x,t.y)}if(this.store.selectedNode){const t=this.getRelevantCoordinates(this.store.selectedNode.x,this.store.selectedNode.y);this.store.selectedNode.move(t.x,t.y)}},this.getRelevantCoordinates=(t,e)=>{const s=t%r.GRID_STEP,i=e%r.GRID_STEP;return{x:s>r.GRID_STEP/2?r.GRID_STEP-s:-s,y:i>r.GRID_STEP/2?r.GRID_STEP-i:-i}},this.onMouseClick=t=>{const e=this.getCursorCoordinates(t),s=this.getDetectedShapeSetNoActive(this.store.indicators,e),i=this.getDetectedShapeSetNoActive(this.store.nodes,e),r=this.getDetectedShapeSetNoActive(this.store.links,e);this.selectIndicator(s),this.selectNode(i),this.selectLink(r),s?s.isActive=!0:i?i.isActive=!0:r&&(r.isActive=!0),this.editedShape=s||i||null,this.store.dispatch(h.default.DRAW)},this.onMouseDbClick=t=>{const e=this.getCursorCoordinates(t),s=this.getDetectedShapeSetNoActive(this.store.indicators,e);if(s)this.store.dispatch(h.default.SET_INDICATOR_EDIT,{id:s.id,isEditing:!0});else{const t=this.getDetectedShapeSetNoActive(this.store.nodes,e);t&&this.store.dispatch(h.default.SET_NODE_EDIT,{id:t.id,isEditing:!0})}this.store.dispatch(h.default.DRAW)},this.onDragover=t=>t.preventDefault(),this.onDrop=t=>{if(t.preventDefault(),t.dataTransfer){const e=t.dataTransfer.getData("node"),s={x:t.offsetX,y:t.offsetY},i=this.diagram.nodeFactory.getNode(e,s);i&&this.store.dispatch(h.default.ADD_NODE,i);if(t.dataTransfer.getData("indicator")){const e=this.ctx.canvas,s=document.createElement("div"),i=new o.default(e,s,{x:t.offsetX,y:t.offsetY,radius:20});this.store.dispatch(h.default.ADD_INDICATOR,i)}}this.store.dispatch(h.default.DRAW)},this.context=t,this.diagram=t.diagram,this.store=t.store,this.workspaceContainer=t.layout.workspaceContainer,this.ctx=t.layout.workspaceCanvas.getContext("2d"),new d.default(t),this.addEventListeners()}unmount(){this.removeEventListeners()}getDetectedShapeSetNoActive(t,{x:e,y:s}){let i;return t.forEach(t=>{t.isActive=!1;const r=t instanceof o.default&&t.includes(e,s),n=t instanceof a.default&&t.includes(e,s),c=t instanceof l.default&&t.includes(e,s);(r||n||c)&&(i=t)}),i||null}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.isGrabbing=!1,this.onMouseDown=t=>{const e=this.context.options.viewMode;this.isGrabbing=e||!this.isMouseOnAnyShape(t),this.isGrabbing&&(this.workspaceContainer.style.cursor="grabbing",t.stopImmediatePropagation())},this.isMouseOnAnyShape=t=>{const e=t.offsetX,s=t.offsetY;return this.store.findIndicatorByCoordinates(e,s)||this.store.findNodeByCoordinates(e,s)||this.store.findLinkByCoordinates(e,s)},this.onMouseMove=t=>{if(this.isGrabbing){const e=parseInt(this.workspaceContainer.style.top,10)||0,s=parseInt(this.workspaceContainer.style.left,10)||0;this.workspaceContainer.style.top=e+t.movementY+"px",this.workspaceContainer.style.left=s+t.movementX+"px",t.stopImmediatePropagation()}},this.onMouseUp=t=>{this.isGrabbing&&(this.isGrabbing=!1,this.workspaceContainer.style.cursor="default",t.stopImmediatePropagation())},this.context=t,this.store=t.store,this.workspaceContainer=t.layout.workspaceContainer,this.workspaceContainer.addEventListener("mousedown",this.onMouseDown),this.workspaceContainer.addEventListener("mousemove",this.onMouseMove),this.workspaceContainer.addEventListener("mouseup",this.onMouseUp),this.workspaceContainer.addEventListener("mouseleave",this.onMouseUp)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.dx=0,this.dy=0,this.pushCoordinates=(t,e)=>{this.dx=this.dx+t,this.dy=this.dy+e},this.redo=()=>{this.movableInstance.move(this.dx,this.dy)},this.undo=()=>{this.movableInstance.move(-this.dx,-this.dy)},this.movableInstance=t}}}]);