<nz-spin [nzSpinning]="loading">
  <form nz-form [formGroup]="sourcenatForm">
    <div class="row">
      <div class="col s4">
        <nz-form-item>
          <nz-form-label [nzSm]="24" [nzXs]="12" nzFor="rulename" nzRequired
            >Rule Name</nz-form-label
          >
          <nz-form-control [nzSm]="24" [nzXs]="24">
            <input
              [attr.disabled]="inputdisabled"
              nz-input
              formControlName="rulename"
              type="text"
            />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div class="col s4">
        <nz-form-item>
          <nz-form-label [nzSm]="24" [nzXs]="12" nzFor="fromzone" nzRequired
            >From Zone
          </nz-form-label>
          <nz-form-control [nzSm]="24" [nzXs]="24">
            <nz-select
              [nzDisabled]="inputdisabled"
              nzShowSearch
              nzAllowClear
              id="fromzone"
              placeholder="Select Zone"
              formControlName="fromzone"
            >
              <nz-option
                *ngFor="let data of interfaceZoneList"
                [nzLabel]="data.keyname"
                [nzValue]="data.keyvalue"
              >
              </nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div class="col s4">
        <nz-form-item>
          <nz-form-label [nzSm]="24" [nzXs]="12" nzFor="tozone" nzRequired
            >To Zone
          </nz-form-label>
          <nz-form-control [nzSm]="24" [nzXs]="24">
            <nz-select
              [nzDisabled]="inputdisabled"
              nzShowSearch
              nzAllowClear
              id="fromzone"
              placeholder="Select Zone"
              formControlName="tozone"
            >
              <nz-option
                *ngFor="let data of interfaceZoneList"
                [nzLabel]="data.keyname"
                [nzValue]="data.keyvalue"
              >
              </nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div class="row">
      <div class="col s4">
        <nz-form-item>
          <nz-form-label
            [nzSm]="24"
            [nzXs]="12"
            nzFor="sourceaddress"
            nzRequired
            >Source Address</nz-form-label
          >
          <nz-form-control [nzSm]="24" [nzXs]="24">
            <input
              [attr.disabled]="inputdisabled"
              nz-input
              formControlName="sourceaddress"
              type="text"
            />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div class="col s4">
        <nz-form-item>
          <nz-form-label
            [nzSm]="24"
            [nzXs]="12"
            nzFor="destinationaddress"
            nzRequired
            >Destination Address
          </nz-form-label>
          <nz-form-control [nzSm]="24" [nzXs]="24">
            <input
              [attr.disabled]="inputdisabled"
              nz-input
              formControlName="destinationaddress"
              type="text"
            />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div class="col s4">
        <nz-form-item>
          <nz-form-label [nzSm]="24" [nzXs]="12" nzFor="natto" nzRequired
            >NAT To
          </nz-form-label>
          <nz-form-control [nzSm]="24" [nzXs]="24">
            <nz-select
              [nzDisabled]="inputdisabled"
              nzShowSearch
              nzAllowClear
              id="natto"
              placeholder="Select"
              formControlName="natto"
            >
              <nz-option
                *ngFor="let data of interfaceNATTOList"
                [nzLabel]="data.keyname"
                [nzValue]="data.keyvalue"
              >
              </nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div class="row">
      <div class="col s4">
        <nz-form-item *ngIf="sourcenatForm.value.natto == 'Address Range'">
          <nz-form-label [nzSm]="24" [nzXs]="12" nzFor="ipv4address"
            >IPV4 Address</nz-form-label
          >
          <nz-form-control [nzSm]="24" [nzXs]="24">
            <input
              [attr.disabled]="inputdisabled"
              nz-input
              formControlName="ipv4address"
              type="text"
            />
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
  </form>
</nz-spin>
<div class="col s12">
  <nz-table #nzTable [nzData]="sourcenatList" [nzShowPagination]="false">
    <thead>
      <tr>
        <th nzWidth="25px">Rule Name</th>
        <th nzWidth="25px">Source Zone</th>
        <th nzWidth="25px">Destination Zone</th>
        <th nzWidth="30px">Source</th>
        <th nzWidth="15px">Destination</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of nzTable.data">
        <td>{{ data.rulename }}</td>
        <td>{{ data.fromzone }}</td>
        <td>{{ data.tozone }}</td>
        <td>{{ data.sourceaddress }}</td>
        <td>{{ data.destinationaddress }}</td>
      </tr>
    </tbody>
  </nz-table>
</div>
<div class="row right">
  <div class="col s12 md4">
    <button
      [disabled]="disabled || inputdisabled"
      (click)="saveOrUpdate(sourcenatForm.value)"
      class="save-button"
      type="submit"
      nz-button
      nzType="primary"
    >
      {{ buttonText }}
    </button>
  </div>
</div>
